(this["webpackJsonpbook-package-app"]=this["webpackJsonpbook-package-app"]||[]).push([[0],{100:function(e,t,r){"use strict";var n=r(17);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchResourceManifests=function(e){return h.apply(this,arguments)},t.fetchManifest=y,t.fetchFileFromServer=k,t.getFile=x,t.getUID=O,t.repositoryExists=j,t.get=C,t.getURL=function(e){return _.apply(this,arguments)},t.fetchRepositoriesZipFiles=function(e){return M.apply(this,arguments)},t.fetchTree=N,t.recursiveTree=U,t.fileExists=function(e){return F.apply(this,arguments)},t.resourceRepositories=void 0;var a=s(r(211)),o=s(r(428)),u=s(r(367)),l=r(453),c=s(r(472));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){i(o,n,a,u,l,"next",e)}function l(e){i(o,n,a,u,l,"throw",e)}u(void 0)}))}}var d="https://git.door43.org/",p=u.default.createInstance({driver:[u.default.INDEXEDDB],name:"web-cache"}),m=u.default.createInstance({driver:[u.default.INDEXEDDB],name:"zip-store"}),b=(0,l.setup)({baseURL:d,cache:{store:p,maxAge:864e5,exclude:{query:!1},key:function(e){var t=e.params instanceof URLSearchParams?e.params.toString():JSON.stringify(e.params)||"";return e.url+t}}}),v=function(e){var t=e.languageId;return{obs:t+"_obs","obs-tn":t+"_obs-tn","obs-tq":t+"_obs-tq","obs-sn":t+"_obs-sn","obs-sq":t+"_obs-sq",ult:t+"_ult",ust:t+"_ust",irv:t+"_irv",ulb:t+"_ulb",udb:t+"_udb",tn:t+"_tn",ta:t+"_ta",tw:t+"_tw",tq:t+"_tq",ugnt:"el-x-koine_ugnt",uhb:"hbo_uhb",ugl:t+"_ugl",uhal:t+"_uhal"}};function h(){return(h=f(n.mark((function e(t){var r,a,o,u,l,c,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.languageId,o={},u=v({languageId:a}),l=Object.keys(u),c=l.map((function(e){var t=u[e];return y({username:["ugnt","uhb"].includes(e)?"unfoldingword":r,repository:t})})),e.next=7,Promise.all(c);case 7:return s=e.sent,l.forEach((function(e,t){o[e]=s[t]})),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=f(n.mark((function e(t){var r,a,u,l;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.repository,e.next=3,x({username:r,repository:a,path:"manifest.yaml"});case 3:return u=e.sent,l=u?o.default.safeLoad(u):null,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return w.apply(this,arguments)}function w(){return(w=f(n.mark((function e(t){var r,o,u,l,c,s,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,o=t.repository,u=t.path,l=t.branch,c=void 0===l?"master":l,e.next=3,j({username:r,repository:o});case 3:if(!e.sent){e.next=18;break}return s=a.default.join(r,o,"raw/branch",c,u),e.prev=6,e.next=9,C({uri:s});case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",null);case 16:e.next=19;break;case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function x(e){return E.apply(this,arguments)}function E(){return(E=f(n.mark((function e(t){var r,a,o,u,l;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.repository,o=t.path,u=t.branch,e.next=3,T({username:r,repository:a,path:o,branch:u});case 3:if(l=e.sent){e.next=8;break}return e.next=7,k({username:r,repository:a,path:o,branch:u});case 7:l=e.sent;case 8:return e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return S.apply(this,arguments)}function S(){return(S=f(n.mark((function e(t){var r,o,u,l;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,o=a.default.join("api/v1","users",r),e.next=4,C({uri:o});case 4:return u=e.sent,l=u.id,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return I.apply(this,arguments)}function I(){return(I=f(n.mark((function e(t){var r,o,u,l,c,s,i,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,o=t.repository,e.next=3,O({username:r});case 3:return u=e.sent,l={repo:o,uid:u},c=a.default.join("api/v1","repos","search"),e.next=8,C({uri:c,params:l});case 8:return s=e.sent,i=s.data,f=i.filter((function(e){return e.name===o}))[0],e.abrupt("return",!!f);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return P.apply(this,arguments)}function P(){return(P=f(n.mark((function e(t){var r,a,o,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.uri,a=t.params,e.next=3,b.get(r,{params:a});case 3:return o=e.sent,u=o.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=f(n.mark((function e(t){var r,a,o,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.uri,a=t.params,e.next=3,b.get(r,{params:a});case 3:return o=e.sent,u=o.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=f(n.mark((function e(t){var r,a,o,u,l,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.languageId,o=t.branch,u=v({languageId:a}),l=Object.values(u).map((function(e){return R({username:r,repository:e,branch:o})})),e.next=5,Promise.all(l);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return A.apply(this,arguments)}function A(){return(A=f(n.mark((function e(t){var r,a,o,u,l,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.repository,o=t.branch,e.next=3,j({username:r,repository:a});case 3:if(e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return u=L({username:r,repository:a,branch:o}),e.next=9,fetch(u);case 9:if(200!==(l=e.sent).status&&0!==l.status){e.next=19;break}return e.next=13,l.arrayBuffer();case 13:return c=e.sent,e.next=16,m.setItem(u,c);case 16:return e.abrupt("return",!0);case 19:return e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return B.apply(this,arguments)}function B(){return(B=f(n.mark((function e(t){var r,o,u,l,s,i,f,d,p;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,o=t.repository,u=t.path,l=t.branch,i=L({username:r,repository:o,branch:l}),e.next=4,m.getItem(i);case 4:if(f=e.sent,e.prev=5,!f){e.next=14;break}return e.next=9,c.default.loadAsync(f);case 9:return d=e.sent,p=a.default.join(o.toLowerCase(),u),e.next=13,d.file(p).async("string");case 13:s=e.sent;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),s=null;case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})))).apply(this,arguments)}function L(e){var t=e.username,r=e.repository,n=e.branch,o=void 0===n?"master":n,u=a.default.join(t,r,"archive","".concat(o,".zip"));return d+u}function N(e){return W.apply(this,arguments)}function W(){return(W=f(n.mark((function e(t){var r,o,u,l,c,s,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,o=t.repository,u=t.sha,l=void 0===u?"master":u,e.prev=1,c=a.default.join("api/v1/repos",r,o,"git/trees",l),e.next=5,C({uri:c});case 5:return s=e.sent,i=JSON.parse(s),e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function U(e){return D.apply(this,arguments)}function D(){return(D=f(n.mark((function e(t){var r,a,o,u,l,c,s,i,f,d;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.username,a=t.repository,o=t.path,u=t.sha,l={},c=o.split(),s=N({username:r,repository:a,sha:u}),(i=s.tree.filter((function(e){return e.path===c[0]}))[0])&&("tree"===i.type?(f=c.slice(1).join("/"),d=U({username:r,repository:a,path:f,sha:i.sha}),l[i.path]=d):"blob"===i.type&&(l[i.path]=!0));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=f(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.username,t.repository,t.path,t.branch,U();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.resourceRepositories=v},101:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.validateReference=t.validateVerse=t.validateChapter=t.validateBookId=t.testament=t.bookData=t.versesInChapter=t.chaptersInBook=t.bookTitleById=void 0;var o=[{id:"gen",title:"Genesis",usfm:"01-GEN",testament:"old",verseCount:1533,chapters:[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,35,46,22,35,43,55,32,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,33,26]},{id:"exo",title:"Exodus",usfm:"02-EXO",testament:"old",verseCount:1213,chapters:[22,25,22,31,23,30,25,32,35,29,10,51,22,31,27,36,16,27,25,26,36,31,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,38]},{id:"lev",title:"Leviticus",usfm:"03-LEV",testament:"old",verseCount:859,chapters:[17,16,17,35,19,30,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,46,34]},{id:"num",title:"Numbers",usfm:"04-NUM",testament:"old",verseCount:1288,chapters:[54,34,51,49,31,27,89,26,23,36,35,16,33,45,41,50,13,32,22,29,35,41,30,25,18,65,23,31,40,16,54,42,56,29,34,13]},{id:"deu",title:"Deuteronomy",usfm:"05-DEU",testament:"old",verseCount:959,chapters:[46,37,29,49,33,25,26,20,29,22,32,32,18,29,23,22,20,22,21,20,23,30,25,22,19,19,26,68,29,20,30,52,29,12]},{id:"jos",title:"Joshua",usfm:"06-JOS",testament:"old",verseCount:658,chapters:[18,24,17,24,15,27,26,35,27,43,23,24,33,15,63,10,18,28,51,9,45,34,16,33]},{id:"jdg",title:"Judges",usfm:"07-JDJ",testament:"old",verseCount:618,chapters:[36,23,31,24,31,40,25,35,57,18,40,15,25,20,20,31,13,31,30,48,25]},{id:"rut",title:"Ruth",usfm:"08-RUT",testament:"old",verseCount:85,chapters:[22,23,18,22]},{id:"1sa",title:"1 Samuel",usfm:"09-1SA",testament:"old",verseCount:810,chapters:[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,42,15,23,29,22,44,25,12,25,11,31,13]},{id:"2sa",title:"2 Samuel",usfm:"10-2SA",testament:"old",verseCount:695,chapters:[27,32,39,12,25,23,29,18,13,19,27,31,39,33,37,23,29,33,43,26,22,51,39,25]},{id:"1ki",title:"1 Kings",usfm:"11-1KI",testament:"old",verseCount:816,chapters:[53,46,28,34,18,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,53]},{id:"2ki",title:"2 Kings",usfm:"12-2KI",testament:"old",verseCount:719,chapters:[18,25,27,44,27,33,20,29,37,36,21,21,25,29,38,20,41,37,37,21,26,20,37,20,30]},{id:"1ch",title:"1 Chronicles",usfm:"13-1CH",testament:"old",verseCount:942,chapters:[54,55,24,43,26,81,40,40,44,14,47,40,14,17,29,43,27,17,19,8,30,19,32,31,31,32,34,21,30]},{id:"2ch",title:"2 Chronicles",usfm:"14-2CH",testament:"old",verseCount:822,chapters:[17,18,17,22,14,42,22,18,31,19,23,16,22,15,19,14,19,34,11,37,20,12,21,27,28,23,9,27,36,27,21,33,25,33,27,23]},{id:"ezr",title:"Ezra",usfm:"15-EZR",testament:"old",verseCount:280,chapters:[11,70,13,24,17,22,28,36,15,44]},{id:"neh",title:"Nehemiah",usfm:"16-NEH",testament:"old",verseCount:406,chapters:[11,20,32,23,19,19,73,18,38,39,36,47,31]},{id:"est",title:"Ester",usfm:"17-EST",testament:"old",verseCount:167,chapters:[22,23,15,17,14,14,10,17,32,3]},{id:"job",title:"Job",usfm:"18-JOB",testament:"old",verseCount:1070,chapters:[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,22,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,30,24,34,17]},{id:"psa",title:"Psalms",usfm:"19-PSA",testament:"old",verseCount:2461,chapters:[6,12,8,8,12,10,17,9,20,18,7,8,6,7,5,11,15,50,14,9,13,31,6,10,22,12,14,9,11,12,24,11,22,22,28,12,40,22,13,17,13,11,5,26,17,11,9,14,20,23,19,9,6,7,23,13,11,11,17,12,8,12,11,10,13,20,7,35,36,5,24,20,28,23,10,12,20,72,13,19,16,8,18,12,13,17,7,18,52,17,16,15,5,23,11,13,12,9,9,5,8,28,22,35,45,48,43,13,31,7,10,10,9,8,18,19,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,13,10,7,12,15,21,10,20,14,9,6]},{id:"pro",title:"Proverbs",usfm:"20-PRO",testament:"old",verseCount:915,chapters:[33,22,35,27,23,35,27,36,18,32,31,28,25,35,33,33,28,24,29,30,31,29,35,34,28,28,27,28,27,33,31]},{id:"ecc",title:"Ecclesiastes",usfm:"21-ECC",testament:"old",verseCount:222,chapters:[18,26,22,16,20,12,29,17,18,20,10,14]},{id:"sng",title:"Song of Songs",usfm:"22-SNG",testament:"old",verseCount:117,chapters:[17,17,11,16,16,13,13,14]},{id:"isa",title:"Isaiah",usfm:"23-ISA",testament:"old",verseCount:1292,chapters:[31,22,26,6,30,13,25,22,21,34,16,6,22,32,9,14,14,7,25,6,17,25,18,23,12,21,13,29,24,33,9,20,24,17,10,22,38,22,8,31,29,25,28,28,25,13,15,22,26,11,23,15,12,17,13,12,21,14,21,22,11,12,19,12,25,24]},{id:"jer",title:"Jermiah",usfm:"24-JER",testament:"old",verseCount:1364,chapters:[19,37,25,31,31,30,34,22,26,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,21,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34]},{id:"lam",title:"Lamentations",usfm:"25-LAM",testament:"old",verseCount:154,chapters:[22,22,66,22,22]},{id:"ezk",title:"Ezekiel",usfm:"26-EZK",testament:"old",verseCount:1273,chapters:[28,10,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,49,32,31,49,27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35]},{id:"dan",title:"Daniel",usfm:"27-DAN",testament:"old",verseCount:357,chapters:[21,49,30,37,31,28,28,27,27,21,45,13]},{id:"hos",title:"Hosea",usfm:"28-HOS",testament:"old",verseCount:197,chapters:[11,23,5,19,15,11,16,14,17,15,12,14,16,9]},{id:"jol",title:"Joel",usfm:"29-JOL",testament:"old",verseCount:73,chapters:[20,32,21]},{id:"amo",title:"Amos",usfm:"30-AMO",testament:"old",verseCount:146,chapters:[15,16,15,13,27,14,17,14,15]},{id:"oba",title:"Obadiah",usfm:"31-OBA",testament:"old",verseCount:21,chapters:[21]},{id:"jon",title:"Jonah",usfm:"32-JON",testament:"old",verseCount:48,chapters:[17,10,10,11]},{id:"mic",title:"Micah",usfm:"33-MIC",testament:"old",verseCount:105,chapters:[16,13,12,13,15,16,20]},{id:"nam",title:"Nahum",usfm:"34-NAM",testament:"old",verseCount:47,chapters:[15,13,19]},{id:"hab",title:"Habakkuk",usfm:"35-HAB",testament:"old",verseCount:56,chapters:[17,20,19]},{id:"zep",title:"Zephaniah",usfm:"36-ZEP",testament:"old",verseCount:53,chapters:[18,15,20]},{id:"hag",title:"Haggai",usfm:"37-HAG",testament:"old",verseCount:38,chapters:[15,23]},{id:"zec",title:"Zechariah",usfm:"38-ZEC",testament:"old",verseCount:211,chapters:[21,13,10,14,11,15,14,23,17,12,17,14,9,21]},{id:"mal",title:"Malachi",usfm:"39-MAL",testament:"old",verseCount:55,chapters:[14,17,18,6]},{id:"mat",title:"Matthew",usfm:"41-MAT",testament:"new",verseCount:1071,chapters:[25,23,17,25,48,34,29,34,38,42,30,50,58,36,39,28,27,35,30,34,46,46,39,51,46,75,66,20]},{id:"mrk",title:"Mark",usfm:"42-MRK",testament:"new",verseCount:678,chapters:[45,28,35,41,43,56,37,38,50,52,33,44,37,72,47,20]},{id:"luk",title:"Luke",usfm:"43-LUK",testament:"new",verseCount:1151,chapters:[80,52,38,44,39,49,50,56,62,42,54,59,35,35,32,31,37,43,48,47,38,71,56,53]},{id:"jhn",title:"John",usfm:"44-JHN",testament:"new",verseCount:879,chapters:[51,25,36,54,47,71,53,59,41,42,57,50,38,31,27,33,26,40,42,31,25]},{id:"act",title:"Acts",usfm:"45-ACT",testament:"new",verseCount:1007,chapters:[26,47,26,37,42,15,60,40,43,48,30,25,52,28,41,40,34,28,41,38,40,30,35,27,27,32,44,31]},{id:"rom",title:"Romans",usfm:"46-ROM",testament:"new",verseCount:433,chapters:[32,29,31,25,21,23,25,39,33,21,36,21,14,23,33,27]},{id:"1co",title:"1 Corinthians",usfm:"47-1CO",testament:"new",verseCount:437,chapters:[31,16,23,21,13,20,40,13,27,33,34,31,13,40,58,24]},{id:"2co",title:"2 Corinthians",usfm:"48-2CO",testament:"new",verseCount:257,chapters:[24,17,18,18,21,18,16,24,15,18,33,21,14]},{id:"gal",title:"Galations",usfm:"49-GAL",testament:"new",verseCount:149,chapters:[24,21,29,31,26,18]},{id:"eph",title:"Ephesians",usfm:"50-EPH",testament:"new",verseCount:155,chapters:[23,22,21,32,33,24]},{id:"php",title:"Phillipians",usfm:"51-PHP",testament:"new",verseCount:104,chapters:[30,30,21,23]},{id:"col",title:"Colossians",usfm:"52-COL",testament:"new",verseCount:95,chapters:[29,23,25,18]},{id:"1th",title:"1 Thessalonians",usfm:"53-1TH",testament:"new",verseCount:89,chapters:[10,20,13,18,28]},{id:"2th",title:"2 Thessalonians",usfm:"54-2TH",testament:"new",verseCount:47,chapters:[12,17,18]},{id:"1ti",title:"1 Timothy",usfm:"55-1TI",testament:"new",verseCount:113,chapters:[20,15,16,16,25,21]},{id:"2ti",title:"2 Timothy",usfm:"56-2TI",testament:"new",verseCount:83,chapters:[18,26,17,22]},{id:"tit",title:"Titus",usfm:"57-TIT",testament:"new",verseCount:46,chapters:[16,15,15]},{id:"phm",title:"Philemon",usfm:"58-PHM",testament:"new",verseCount:25,chapters:[25]},{id:"heb",title:"Hebrews",usfm:"59-HEB",testament:"new",verseCount:303,chapters:[14,18,19,16,14,20,28,13,28,39,40,29,25]},{id:"jas",title:"James",usfm:"60-JAS",testament:"new",verseCount:108,chapters:[27,26,18,17,20]},{id:"1pe",title:"1 Peter",usfm:"61-1PE",testament:"new",verseCount:105,chapters:[25,25,22,19,14]},{id:"2pe",title:"2 Peter",usfm:"62-2PE",testament:"new",verseCount:61,chapters:[21,22,18]},{id:"1jn",title:"1 John",usfm:"63-1JN",testament:"new",verseCount:105,chapters:[10,29,24,21,21]},{id:"2jn",title:"2 John",usfm:"64-2JN",testament:"new",verseCount:13,chapters:[13]},{id:"3jn",title:"3 John",usfm:"65-3JN",testament:"new",verseCount:15,chapters:[15]},{id:"jud",title:"Jude",usfm:"66-JUD",testament:"new",verseCount:25,chapters:[25]},{id:"rev",title:"Revelation",usfm:"67-REV",testament:"new",verseCount:404,chapters:[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21]}];t.bookTitleById=function(e){for(var t=0;t<o.length;t++)if(o[t].id===e)return o[t].title;return""};var u=function(e){try{return"obs"===e?n(Array(50).keys()).map((function(e){return e+1})):l(e).chapters}catch(t){return null}};t.chaptersInBook=u;t.versesInChapter=function(e){var t=e.bookId,r=e.chapter;return u({bookId:t})[r-1]};var l=function(e){return o.filter((function(t){return t.id===e}))[0]};t.bookData=l;t.testament=function(e){return l(e).testament};var c=function(e){var t;return("obs"===e.bookId||e.bookId&&l(e.bookId))&&(t=!0),t};t.validateBookId=c;var s=function(e){var t=c(e),r=u(e.bookId).length,n=r&&e.chapter<=r;return t&&n};t.validateChapter=s;var i=function(e){var t=c(e)&&s(e),r=u(e.bookId)[e.chapter-1],n=r&&e.verse<=r;return t&&n};t.validateVerse=i;t.validateReference=function(e){return!!c(e)&&(!!s(e)&&!(e.verse&&!i(e)))}},130:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchResources=function(e){return p.apply(this,arguments)},t.fetchBook=m,t.fetchOriginalBook=h,t.fetchUGNTBook=function(e){return g.apply(this,arguments)},t.fetchUHBBook=function(e){return k.apply(this,arguments)},t.translationNotes=w,t.translationQuestions=function(e){return E.apply(this,arguments)},t.fetchNotes=O,t.fetchQuestions=j,t.fetchFileByBookId=C,t.tsvParse=t.projectByBookId=t.pivotTranslationNotes=t.whichTestament=void 0;var o,u=(o=r(278))&&o.__esModule?o:{default:o},l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(100));function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){f(o,n,a,u,l,"next",e)}function l(e){f(o,n,a,u,l,"throw",e)}u(void 0)}))}}function p(){return(p=d(n.mark((function e(t){var r,a,o,u,l,c,s,i,f,p,b,y,g;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.context,a=r.username,o=r.languageId,u=r.reference.bookId,l=t.manifests,c={ult:null,ust:null,ulb:null,udb:null,irv:null,tn:null,original:null},s=l.uhb,i=l.ugnt,f=v({bookId:u,uhbManifest:s,ugntManifest:i}),p="old"===f?s:i,y=(b=["ult","ust","ulb","udb","irv","tn","original"]).map(function(){var e=d(n.mark((function e(t){var r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!["ult","ust","ulb","udb","irv"].includes(t)||!l[t]){e.next=3;break}return r=l[t],e.abrupt("return",m({username:a,languageId:o,resourceId:t,bookId:u,manifest:r}));case 3:if("tn"!==t||!l[t]){e.next=6;break}return r=l[t],e.abrupt("return",w({username:a,languageId:o,bookId:u,manifest:r}));case 6:if("original"!==t){e.next=8;break}return e.abrupt("return",h({username:a,languageId:o,bookId:u,uhbManifest:s,ugntManifest:i}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Promise.all(y);case 9:return g=e.sent,b.forEach((function(e,t){var r=g[t],n="original"===e?p:l[e];c[e]={manifest:n,data:r}})),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return b.apply(this,arguments)}function b(){return(b=d(n.mark((function e(t){var r,a,o,c,s,i,f,d,p;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.username,a=t.languageId,o=t.resourceId,c=t.bookId,s=t.manifest,i=s.projects,_({projects:i,bookId:c})){e.next=4;break}return e.abrupt("return",null);case 4:return f=l.resourceRepositories({languageId:a})[o],e.next=7,C({username:r,repository:f,bookId:c,manifest:s});case 7:return d=e.sent,p=u.default.toJSON(d),e.abrupt("return",p.chapters);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){var t,r=e.bookId,n=e.uhbManifest,a=e.ugntManifest;return _({projects:n.projects,bookId:r})&&(t="old"),_({projects:a.projects,bookId:r})&&(t="new"),t};function h(e){return y.apply(this,arguments)}function y(){return(y=d(n.mark((function e(t){var r,a,o,c,s,i,f,d,p,m;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.username,r=t.languageId,a=t.bookId,o=t.uhbManifest,c=t.ugntManifest,f=v({bookId:a,uhbManifest:o,ugntManifest:c}),d=l.resourceRepositories({languageId:r}),"old"===f&&(s=o,i=d.uhb),"new"===f&&(s=c,i=d.ugnt),e.next=9,C({username:"unfoldingword",repository:i,bookId:a,manifest:s});case 9:return p=e.sent,m=u.default.toJSON(p),e.abrupt("return",m.chapters);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=d(n.mark((function e(t){var r,a,o,c,s,i,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.languageId,o=t.bookId,c=t.manifest,s=l.resourceRepositories({languageId:a}).ugnt,e.next=4,C({username:r,repository:s,bookId:o,manifest:c});case 4:return i=e.sent,f=u.default.toJSON(i),e.abrupt("return",f);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=d(n.mark((function e(t){var r,a,o,c,s,i,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.languageId,o=t.bookId,c=t.manifest,s=l.resourceRepositories({languageId:a}).uhb,e.next=4,C({username:r,repository:s,bookId:o,manifest:c});case 4:return i=e.sent,f=u.default.toJSON(i),e.abrupt("return",f);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.whichTestament=v;function w(e){return x.apply(this,arguments)}function x(){return(x=d(n.mark((function e(t){var r,a,o,u,l;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.languageId,o=t.bookId,u=t.manifest,e.next=3,O({username:r,languageId:a,bookId:o,manifest:u});case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=d(n.mark((function e(t){var r,a,o,u,l;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.languageId,o=t.bookId,u=t.manifest,e.next=3,j({username:r,languageId:a,bookId:o,manifest:u});case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return S.apply(this,arguments)}function S(){return(S=d(n.mark((function e(t){var r,a,o,u,c,s,i,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.languageId,o=t.bookId,u=t.manifest,c="obs"===o?"obs-tn":"tn",s=l.resourceRepositories({languageId:a})[c],e.next=5,C({username:r,repository:s,bookId:o,manifest:u});case 5:return i=e.sent,f=M({tsv:i}),console.log("fetchNotes() resourceId:",c),e.abrupt("return",f);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return I.apply(this,arguments)}function I(){return(I=d(n.mark((function e(t){var r,a,o,u,c,s,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.languageId,o=t.bookId,u=t.manifest,c=l.resourceRepositories({languageId:a}).tq,e.next=4,C({username:r,repository:c,bookId:o,manifest:u});case 4:return s=e.sent,i=M({tsv:s}),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return P.apply(this,arguments)}function P(){return(P=d(n.mark((function e(t){var r,a,o,u,c,s,i,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.username,a=t.repository,o=t.bookId,u=t.manifest,s=u.projects,!(i=_({projects:s,bookId:o}))||!i.path){e.next=8;break}return f=i.path.replace(/^\.\//,""),e.next=7,l.getFile({username:r,repository:a,path:f});case 7:c=e.sent;case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.pivotTranslationNotes=function(e){var t=e.tn;if(!t)return{};var r={},n=JSON.parse(JSON.stringify(t));return n.shift(),n.forEach((function(e){var t=s(e,9),n=t[0],a=t[1],o=t[2],u=t[3],l=t[4],c=t[5],i=t[6],f=t[7],d=t[8];if(n&&a&&o){r[a]||(r[a]={}),r[a][o]||(r[a][o]=[]);var p={id:u,support_reference:l,original_quote:c,occurrence:i,gl_quote:f,occurrence_note:d=d?d.replace(/<br>/g,"\n"):d};r[a][o].push(p)}})),r};var _=function(e){var t,r=e.projects,n=e.bookId,a=r.filter((function(e){return e.identifier===n}));return a.length>0&&(t=a[0]),t};t.projectByBookId=_;var M=function(e){var t=e.tsv;try{return t.trim().split("\n").map((function(e){return e.trim().split("\t")}))}catch(r){return null}};t.tsvParse=M},16:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(416);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}));var a=r(553);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}))},382:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(532))&&n.__esModule?n:{default:n}},383:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(534))&&n.__esModule?n:{default:n}},384:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(536))&&n.__esModule?n:{default:n}},385:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(538))&&n.__esModule?n:{default:n}},386:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(540))&&n.__esModule?n:{default:n}},387:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(542))&&n.__esModule?n:{default:n}},388:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(546))&&n.__esModule?n:{default:n}},410:function(e,t,r){e.exports=r(554)},415:function(e,t,r){},416:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={BookPackageRollup:!0,BookPackageTotals:!0};Object.defineProperty(t,"BookPackageRollup",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"BookPackageTotals",{enumerable:!0,get:function(){return u.default}});var a=r(417);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=l(r(544)),u=l(r(388));function l(e){return e&&e.__esModule?e:{default:e}}},417:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BookPackageStrongs",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"BookPackageTw",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BookPackageTq",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"BookPackageTn",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"BookPackageTa",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"BookPackageUlt",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"BookPackageUst",{enumerable:!0,get:function(){return s.default}});var n=i(r(418)),a=i(r(382)),o=i(r(383)),u=i(r(384)),l=i(r(385)),c=i(r(386)),s=i(r(387));function i(e){return e&&e.__esModule?e:{default:e}}},418:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(419))&&n.__esModule?n:{default:n}},419:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=E();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=x(r(4)),l=r(24),c=x(r(127)),s=x(r(128)),i=x(r(54)),f=x(r(129)),d=x(r(64)),p=x(r(26)),m=r(109),b=x(r(19)),v=x(r(28)),h=x(r(79)),y=x(r(66)),g=x(r(36)),k=x(r(80)),w=r(423);function x(e){return e&&e.__esModule?e:{default:e}}function E(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return E=function(){return e},e}function O(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e){var t=e.bookId,r=e.chapter,a=e.clearFlag,u=e.classes,l=(e.style,S((0,o.useState)(o.default.createElement(v.default,null)),2)),x=l[0],E=l[1];return(0,o.useEffect)((function(){var e=(0,w.validateInputProperties)(t,r),l=r||"(ALL)";e?function(){var e,l=(e=n.mark((function e(){var l,v,x;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,w.fetchBookPackageStrongs)({username:"unfoldingword",languageId:"en",bookId:t,chapters:r,clearFlag:a});case 3:l=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),E(o.default.createElement("div",null,e.t0.message)),e.abrupt("return");case 10:v=Array.from(Object.keys(l.summary_ref_map)),x="Lexicon Word Count: "+l.grandTotalWordCount.toLocaleString(),E(o.default.createElement(p.default,{className:u.paper},o.default.createElement(h.default,{className:u.root,defaultCollapseIcon:o.default.createElement(y.default,null),defaultExpandIcon:o.default.createElement(g.default,null)},o.default.createElement(k.default,{nodeId:"1",label:x},o.default.createElement(b.default,{variant:"body2",gutterBottom:!0},o.default.createElement("i",null,"Linked entries:",o.default.createElement("b",null,l.distinctReferences," unique"),", ",l.totalReferences," total links")),o.default.createElement(c.default,{className:u.table,size:"small","aria-label":"a dense table"},o.default.createElement(f.default,null,o.default.createElement(d.default,null,o.default.createElement(i.default,null,"Strongs Entry"),o.default.createElement(i.default,{align:"center"},"Reference Count"),o.default.createElement(i.default,{align:"center"},"Word Count"),o.default.createElement(i.default,{align:"center"},"Unique Words"))),o.default.createElement(s.default,null,v.sort().map((function(e){return o.default.createElement(d.default,{key:e},o.default.createElement(i.default,{component:"th",scope:"row"},o.default.createElement(m.Link,{href:(0,w.convertToLink)(e,t),target:"_blank",rel:"noopener"},e)),o.default.createElement(i.default,{align:"center"},l.summary_ref_map[e]),o.default.createElement(i.default,{align:"center"},l.detail_article_map[e]?l.detail_article_map[e].total:"Non Existent"),o.default.createElement(i.default,{align:"center"},l.detail_article_map[e]?l.detail_article_map[e].distinct:"Non Existent"))}))))))));case 13:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){O(o,n,a,u,l,"next",e)}function l(e){O(o,n,a,u,l,"throw",e)}u(void 0)}))});return function(){return l.apply(this,arguments)}}()():E(o.default.createElement(p.default,{className:u.paper},o.default.createElement(b.default,{variant:"h5",gutterBottom:!0},'Invalid Book "',t.toUpperCase(),'" or Chapter(s) ',l)))}),[]),o.default.createElement("div",{className:u.root},x)}I.propTypes={classes:u.default.object,bookId:u.default.string.isRequired,chapter:u.default.string,clearFlag:u.default.bool,style:u.default.object};var C=(0,l.withStyles)((function(e){return{root:{}}}))(I);t.default=C},423:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.convertToLink=function(e,t){var r=e;r="old"===s.testament(t)?"https://git.door43.org/unfoldingWord/en_uhal/src/branch/master/content/"+e+".md":"https://git.door43.org/unfoldingWord/en_ugl/src/branch/master/content/"+e+"/01.md";return r},t.validateInputProperties=function(e,t){if(""===t){var r={bookId:e,chapter:1,verse:1};return s.validateReference(r)}for(var n=t.split(","),a=0;a<n.length;a++){if(!s.validateReference({bookId:e,chapter:n[a],verse:1}))return!1}return!0},t.fetchBookPackageStrongs=function(e){return x.apply(this,arguments)};var o,u=(o=r(211))&&o.__esModule?o:{default:o},l=r(130),c=p(r(100)),s=p(r(101)),i=r(70),f=p(r(61));function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=v(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function v(e,t){if(e){if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){y(o,n,a,u,l,"next",e)}function l(e){y(o,n,a,u,l,"throw",e)}u(void 0)}))}}function k(e,t,r,n,a,o,u){return w.apply(this,arguments)}function w(){return(w=g(n.mark((function e(t,r,a,o,l,i,d){var p,m,b,v,h,y,g,k,w,x;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("strong"===t){e.next=2;break}return e.abrupt("return");case 2:if(void 0===(p=o.get(r))&&(p=0),p+=1,o.set(r,p),!(p>1)){e.next=8;break}return e.abrupt("return");case 8:if(void 0!==a){e.next=10;break}return e.abrupt("return");case 10:return"old"===s.testament(a)?(m="en_uhal",b="content/"+r+".md"):(m="en_ugl",b="content/"+r+"/01.md"),v=[],e.prev=14,h=u.default.join("unfoldingWord",m,"raw/branch","master",b),e.next=18,c.get({uri:h});case 18:v=e.sent,e.next=28;break;case 21:return e.prev=21,e.t0=e.catch(14),y="Lex Error on:"+h+" is:"+e.t0,d.push(y),console.log(y),v=null,e.abrupt("return");case 28:for(g=f.wordCount(""+v),k=0;k<g.allWords.length;k++)w=g.allWords[k],void 0===(x=l.get(w))&&(x=0),x+=1,l.set(w,x);i.set(r,g);case 31:case"end":return e.stop()}}),e,null,[[14,21]])})))).apply(this,arguments)}function x(){return(x=g(n.mark((function e(t){var r,a,o,u,s,f,d,p,v,h,y,g,w,x,E,O,S,j,I,C,P,_,M,R,A,T,B,L,N,W,U,D,F,q,J,H,z,$,G,K,Z,Q,V,X,Y,ee,te,re,ne,ae,oe,ue;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.bookId,a=t.chapters,o=t.clearFlag,u=t.languageId,s="lex-"+r,void 0===o&&(o=!0),!o){e.next=8;break}return e.next=6,i.bpstore.removeItem(s);case 6:e.next=13;break;case 8:return e.next=10,i.bpstore.getItem(s);case 10:if(null===(f=e.sent)){e.next=13;break}return e.abrupt("return",f);case 13:return d=[],e.next=16,c.fetchResourceManifests({username:"unfoldingword",languageId:u});case 16:return v=e.sent,e.next=19,(0,l.fetchOriginalBook)({username:"unfoldingword",languageId:u,bookId:r,uhbManifest:v.uhb,ugntManifest:v.ugnt});case 19:p=e.sent,y=function(e){var t={};return e.forEach((function(e,r){t[r]=e})),t},g=(h=function(e){var t=new Map;return Object.keys(e).forEach((function(r){t.set(r,e[r])})),t})(p),w=new Map,x=new Map,E=new Map,O=a.split(","),S=b(g.entries()),e.prev=28,S.s();case 30:if((j=S.n()).done){e.next=117;break}if(I=m(j.value,2),C=I[0],P=I[1],""===a&&(a="0"),"0"===a){e.next=36;break}if(O.includes(C)){e.next=36;break}return e.abrupt("continue",115);case 36:_=h(P),M=b(_.values()),e.prev=38,M.s();case 40:if((R=M.n()).done){e.next=107;break}A=R.value,T=h(A),B=b(T.values()),e.prev=44,B.s();case 46:if((L=B.n()).done){e.next=97;break}N=L.value,W=0;case 49:if(!(W<N.length)){e.next=95;break}U=h(N[W]),D=b(U.entries()),e.prev=52,D.s();case 54:if((F=D.n()).done){e.next=84;break}return q=m(F.value,2),J=q[0],H=q[1],e.next=58,k(J,H,r,w,x,E,d);case 58:if("children"!==J){e.next=82;break}z=0;case 60:if(!(z<H.length)){e.next=82;break}$=h(H[z]),G=b($.entries()),e.prev=63,G.s();case 65:if((K=G.n()).done){e.next=71;break}return Z=m(K.value,2),Q=Z[0],V=Z[1],e.next=69,k(Q,V,r,w,x,E,d);case 69:e.next=65;break;case 71:e.next=76;break;case 73:e.prev=73,e.t0=e.catch(63),G.e(e.t0);case 76:return e.prev=76,G.f(),e.finish(76);case 79:z++,e.next=60;break;case 82:e.next=54;break;case 84:e.next=89;break;case 86:e.prev=86,e.t1=e.catch(52),D.e(e.t1);case 89:return e.prev=89,D.f(),e.finish(89);case 92:W++,e.next=49;break;case 95:e.next=46;break;case 97:e.next=102;break;case 99:e.prev=99,e.t2=e.catch(44),B.e(e.t2);case 102:return e.prev=102,B.f(),e.finish(102);case 105:e.next=40;break;case 107:e.next=112;break;case 109:e.prev=109,e.t3=e.catch(38),M.e(e.t3);case 112:return e.prev=112,M.f(),e.finish(112);case 115:e.next=30;break;case 117:e.next=122;break;case 119:e.prev=119,e.t4=e.catch(28),S.e(e.t4);case 122:return e.prev=122,S.f(),e.finish(122);case 125:X=0,Y=b(w.values());try{for(Y.s();!(ee=Y.n()).done;)te=ee.value,X+=te}catch(n){Y.e(n)}finally{Y.f()}re=0,ne=b(x.values());try{for(ne.s();!(ae=ne.n()).done;)oe=ae.value,re+=oe}catch(n){ne.e(n)}finally{ne.f()}return(ue={}).summary_ref_map=y(w),ue.summary_article_map=y(x),ue.detail_article_map=y(E),ue.grandTotalWordCount=re,ue.grandDistinctWordCount=x.size,ue.totalReferences=X,ue.distinctReferences=w.size,e.next=141,i.bpstore.setItem(s,ue);case 141:if(!(d.length>0)){e.next=144;break}return e.next=144,i.bpstore.setItem(s+"-errors",d);case 144:return e.abrupt("return",ue);case 145:case"end":return e.stop()}}),e,null,[[28,119,122,125],[38,109,112,115],[44,99,102,105],[52,86,89,92],[63,73,76,79]])})))).apply(this,arguments)}},53:function(e){e.exports=JSON.parse('[{"id":"gen","title":"Genesis","usfm":"01-GEN","testament":"old","verseCount":1533,"chapters":[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,35,46,22,35,43,55,32,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,33,26]},{"id":"exo","title":"Exodus","usfm":"02-EXO","testament":"old","verseCount":1213,"chapters":[22,25,22,31,23,30,25,32,35,29,10,51,22,31,27,36,16,27,25,26,36,31,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,38]},{"id":"lev","title":"Leviticus","usfm":"03-LEV","testament":"old","verseCount":859,"chapters":[17,16,17,35,19,30,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,46,34]},{"id":"num","title":"Numbers","usfm":"04-NUM","testament":"old","verseCount":1288,"chapters":[54,34,51,49,31,27,89,26,23,36,35,16,33,45,41,50,13,32,22,29,35,41,30,25,18,65,23,31,40,16,54,42,56,29,34,13]},{"id":"deu","title":"Deuteronomy","usfm":"05-DEU","testament":"old","verseCount":959,"chapters":[46,37,29,49,33,25,26,20,29,22,32,32,18,29,23,22,20,22,21,20,23,30,25,22,19,19,26,68,29,20,30,52,29,12]},{"id":"jos","title":"Joshua","usfm":"06-JOS","testament":"old","verseCount":658,"chapters":[18,24,17,24,15,27,26,35,27,43,23,24,33,15,63,10,18,28,51,9,45,34,16,33]},{"id":"jdg","title":"Judges","usfm":"07-JDJ","testament":"old","verseCount":618,"chapters":[36,23,31,24,31,40,25,35,57,18,40,15,25,20,20,31,13,31,30,48,25]},{"id":"rut","title":"Ruth","usfm":"08-RUT","testament":"old","verseCount":85,"chapters":[22,23,18,22]},{"id":"1sa","title":"1 Samuel","usfm":"09-1SA","testament":"old","verseCount":810,"chapters":[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,42,15,23,29,22,44,25,12,25,11,31,13]},{"id":"2sa","title":"2 Samuel","usfm":"10-2SA","testament":"old","verseCount":695,"chapters":[27,32,39,12,25,23,29,18,13,19,27,31,39,33,37,23,29,33,43,26,22,51,39,25]},{"id":"1ki","title":"1 Kings","usfm":"11-1KI","testament":"old","verseCount":816,"chapters":[53,46,28,34,18,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,53]},{"id":"2ki","title":"2 Kings","usfm":"12-2KI","testament":"old","verseCount":719,"chapters":[18,25,27,44,27,33,20,29,37,36,21,21,25,29,38,20,41,37,37,21,26,20,37,20,30]},{"id":"1ch","title":"1 Chronicles","usfm":"13-1CH","testament":"old","verseCount":942,"chapters":[54,55,24,43,26,81,40,40,44,14,47,40,14,17,29,43,27,17,19,8,30,19,32,31,31,32,34,21,30]},{"id":"2ch","title":"2 Chronicles","usfm":"14-2CH","testament":"old","verseCount":822,"chapters":[17,18,17,22,14,42,22,18,31,19,23,16,22,15,19,14,19,34,11,37,20,12,21,27,28,23,9,27,36,27,21,33,25,33,27,23]},{"id":"ezr","title":"Ezra","usfm":"15-EZR","testament":"old","verseCount":280,"chapters":[11,70,13,24,17,22,28,36,15,44]},{"id":"neh","title":"Nehemiah","usfm":"16-NEH","testament":"old","verseCount":406,"chapters":[11,20,32,23,19,19,73,18,38,39,36,47,31]},{"id":"est","title":"Esther","usfm":"17-EST","testament":"old","verseCount":167,"chapters":[22,23,15,17,14,14,10,17,32,3]},{"id":"job","title":"Job","usfm":"18-JOB","testament":"old","verseCount":1070,"chapters":[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,22,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,30,24,34,17]},{"id":"psa","title":"Psalms","usfm":"19-PSA","testament":"old","verseCount":2461,"chapters":[6,12,8,8,12,10,17,9,20,18,7,8,6,7,5,11,15,50,14,9,13,31,6,10,22,12,14,9,11,12,24,11,22,22,28,12,40,22,13,17,13,11,5,26,17,11,9,14,20,23,19,9,6,7,23,13,11,11,17,12,8,12,11,10,13,20,7,35,36,5,24,20,28,23,10,12,20,72,13,19,16,8,18,12,13,17,7,18,52,17,16,15,5,23,11,13,12,9,9,5,8,28,22,35,45,48,43,13,31,7,10,10,9,8,18,19,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,13,10,7,12,15,21,10,20,14,9,6]},{"id":"pro","title":"Proverbs","usfm":"20-PRO","testament":"old","verseCount":915,"chapters":[33,22,35,27,23,35,27,36,18,32,31,28,25,35,33,33,28,24,29,30,31,29,35,34,28,28,27,28,27,33,31]},{"id":"ecc","title":"Ecclesiastes","usfm":"21-ECC","testament":"old","verseCount":222,"chapters":[18,26,22,16,20,12,29,17,18,20,10,14]},{"id":"sng","title":"Song of Songs","usfm":"22-SNG","testament":"old","verseCount":117,"chapters":[17,17,11,16,16,13,13,14]},{"id":"isa","title":"Isaiah","usfm":"23-ISA","testament":"old","verseCount":1292,"chapters":[31,22,26,6,30,13,25,22,21,34,16,6,22,32,9,14,14,7,25,6,17,25,18,23,12,21,13,29,24,33,9,20,24,17,10,22,38,22,8,31,29,25,28,28,25,13,15,22,26,11,23,15,12,17,13,12,21,14,21,22,11,12,19,12,25,24]},{"id":"jer","title":"Jermiah","usfm":"24-JER","testament":"old","verseCount":1364,"chapters":[19,37,25,31,31,30,34,22,26,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,21,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34]},{"id":"lam","title":"Lamentations","usfm":"25-LAM","testament":"old","verseCount":154,"chapters":[22,22,66,22,22]},{"id":"ezk","title":"Ezekiel","usfm":"26-EZK","testament":"old","verseCount":1273,"chapters":[28,10,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,49,32,31,49,27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35]},{"id":"dan","title":"Daniel","usfm":"27-DAN","testament":"old","verseCount":357,"chapters":[21,49,30,37,31,28,28,27,27,21,45,13]},{"id":"hos","title":"Hosea","usfm":"28-HOS","testament":"old","verseCount":197,"chapters":[11,23,5,19,15,11,16,14,17,15,12,14,16,9]},{"id":"jol","title":"Joel","usfm":"29-JOL","testament":"old","verseCount":73,"chapters":[20,32,21]},{"id":"amo","title":"Amos","usfm":"30-AMO","testament":"old","verseCount":146,"chapters":[15,16,15,13,27,14,17,14,15]},{"id":"oba","title":"Obadiah","usfm":"31-OBA","testament":"old","verseCount":21,"chapters":[21]},{"id":"jon","title":"Jonah","usfm":"32-JON","testament":"old","verseCount":48,"chapters":[17,10,10,11]},{"id":"mic","title":"Micah","usfm":"33-MIC","testament":"old","verseCount":105,"chapters":[16,13,12,13,15,16,20]},{"id":"nam","title":"Nahum","usfm":"34-NAM","testament":"old","verseCount":47,"chapters":[15,13,19]},{"id":"hab","title":"Habakkuk","usfm":"35-HAB","testament":"old","verseCount":56,"chapters":[17,20,19]},{"id":"zep","title":"Zephaniah","usfm":"36-ZEP","testament":"old","verseCount":53,"chapters":[18,15,20]},{"id":"hag","title":"Haggai","usfm":"37-HAG","testament":"old","verseCount":38,"chapters":[15,23]},{"id":"zec","title":"Zechariah","usfm":"38-ZEC","testament":"old","verseCount":211,"chapters":[21,13,10,14,11,15,14,23,17,12,17,14,9,21]},{"id":"mal","title":"Malachi","usfm":"39-MAL","testament":"old","verseCount":55,"chapters":[14,17,18,6]},{"id":"mat","title":"Matthew","usfm":"41-MAT","testament":"new","verseCount":1071,"chapters":[25,23,17,25,48,34,29,34,38,42,30,50,58,36,39,28,27,35,30,34,46,46,39,51,46,75,66,20]},{"id":"mrk","title":"Mark","usfm":"42-MRK","testament":"new","verseCount":678,"chapters":[45,28,35,41,43,56,37,38,50,52,33,44,37,72,47,20]},{"id":"luk","title":"Luke","usfm":"43-LUK","testament":"new","verseCount":1151,"chapters":[80,52,38,44,39,49,50,56,62,42,54,59,35,35,32,31,37,43,48,47,38,71,56,53]},{"id":"jhn","title":"John","usfm":"44-JHN","testament":"new","verseCount":879,"chapters":[51,25,36,54,47,71,53,59,41,42,57,50,38,31,27,33,26,40,42,31,25]},{"id":"act","title":"Acts","usfm":"45-ACT","testament":"new","verseCount":1007,"chapters":[26,47,26,37,42,15,60,40,43,48,30,25,52,28,41,40,34,28,41,38,40,30,35,27,27,32,44,31]},{"id":"rom","title":"Romans","usfm":"46-ROM","testament":"new","verseCount":433,"chapters":[32,29,31,25,21,23,25,39,33,21,36,21,14,23,33,27]},{"id":"1co","title":"1 Corinthians","usfm":"47-1CO","testament":"new","verseCount":437,"chapters":[31,16,23,21,13,20,40,13,27,33,34,31,13,40,58,24]},{"id":"2co","title":"2 Corinthians","usfm":"48-2CO","testament":"new","verseCount":257,"chapters":[24,17,18,18,21,18,16,24,15,18,33,21,14]},{"id":"gal","title":"Galations","usfm":"49-GAL","testament":"new","verseCount":149,"chapters":[24,21,29,31,26,18]},{"id":"eph","title":"Ephesians","usfm":"50-EPH","testament":"new","verseCount":155,"chapters":[23,22,21,32,33,24]},{"id":"php","title":"Phillipians","usfm":"51-PHP","testament":"new","verseCount":104,"chapters":[30,30,21,23]},{"id":"col","title":"Colossians","usfm":"52-COL","testament":"new","verseCount":95,"chapters":[29,23,25,18]},{"id":"1th","title":"1 Thessalonians","usfm":"53-1TH","testament":"new","verseCount":89,"chapters":[10,20,13,18,28]},{"id":"2th","title":"2 Thessalonians","usfm":"54-2TH","testament":"new","verseCount":47,"chapters":[12,17,18]},{"id":"1ti","title":"1 Timothy","usfm":"55-1TI","testament":"new","verseCount":113,"chapters":[20,15,16,16,25,21]},{"id":"2ti","title":"2 Timothy","usfm":"56-2TI","testament":"new","verseCount":83,"chapters":[18,26,17,22]},{"id":"tit","title":"Titus","usfm":"57-TIT","testament":"new","verseCount":46,"chapters":[16,15,15]},{"id":"phm","title":"Philemon","usfm":"58-PHM","testament":"new","verseCount":25,"chapters":[25]},{"id":"heb","title":"Hebrews","usfm":"59-HEB","testament":"new","verseCount":303,"chapters":[14,18,19,16,14,20,28,13,28,39,40,29,25]},{"id":"jas","title":"James","usfm":"60-JAS","testament":"new","verseCount":108,"chapters":[27,26,18,17,20]},{"id":"1pe","title":"1 Peter","usfm":"61-1PE","testament":"new","verseCount":105,"chapters":[25,25,22,19,14]},{"id":"2pe","title":"2 Peter","usfm":"62-2PE","testament":"new","verseCount":61,"chapters":[21,22,18]},{"id":"1jn","title":"1 John","usfm":"63-1JN","testament":"new","verseCount":105,"chapters":[10,29,24,21,21]},{"id":"2jn","title":"2 John","usfm":"64-2JN","testament":"new","verseCount":13,"chapters":[13]},{"id":"3jn","title":"3 John","usfm":"65-3JN","testament":"new","verseCount":15,"chapters":[15]},{"id":"jud","title":"Jude","usfm":"66-JUD","testament":"new","verseCount":25,"chapters":[25]},{"id":"rev","title":"Revelation","usfm":"67-REV","testament":"new","verseCount":404,"chapters":[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21]}]')},532:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=E();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(0)),u=x(r(4)),l=r(24),c=x(r(127)),s=x(r(128)),i=x(r(54)),f=x(r(129)),d=x(r(64)),p=x(r(26)),m=x(r(19)),b=r(109),v=x(r(28)),h=x(r(79)),y=x(r(66)),g=x(r(36)),k=x(r(80)),w=r(533);function x(e){return e&&e.__esModule?e:{default:e}}function E(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return E=function(){return e},e}function O(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e){var t=e.bookId,r=e.chapter,a=e.clearFlag,u=e.classes,l=(e.style,S((0,o.useState)(o.default.createElement(v.default,null)),2)),x=l[0],E=l[1];return(0,o.useEffect)((function(){var e=(0,w.validateInputProperties)(t,r),l=r||"(ALL)";e?function(){var e,l=(e=n.mark((function e(){var l,v,x;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"obs"!==t){e.next=7;break}return e.next=4,(0,w.fetchObsTw)({bookId:t,clearFlag:a});case 4:l=e.sent,e.next=10;break;case 7:return e.next=9,(0,w.fetchBookPackageTw)({username:"unfoldingword",languageId:"en",bookId:t,chapters:r,clearFlag:a});case 9:l=e.sent;case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),E(o.default.createElement("div",null,"fetchBookPackageTw() Error: ",e.t0.message)),e.abrupt("return");case 16:v=Array.from(Object.keys(l.summary_ref_map)),x="UTW Word Count: "+l.grandTotalWordCount.toLocaleString(),E(o.default.createElement(p.default,{className:u.paper},o.default.createElement(h.default,{className:u.root,defaultCollapseIcon:o.default.createElement(y.default,null),defaultExpandIcon:o.default.createElement(g.default,null)},o.default.createElement(k.default,{nodeId:"1",label:x},o.default.createElement(m.default,{variant:"body2",gutterBottom:!0},o.default.createElement("i",null,"Linked entries:",o.default.createElement("b",null,v.length," unique"),", ",l.totalReferences," total links")),o.default.createElement(c.default,{className:u.table,size:"small","aria-label":"a dense table"},o.default.createElement(f.default,null,o.default.createElement(d.default,null,o.default.createElement(i.default,null,"Translation Word"),o.default.createElement(i.default,{align:"center"},"Reference Count"),o.default.createElement(i.default,{align:"center"},"Word Count"),o.default.createElement(i.default,{align:"center"},"Unique Words"))),o.default.createElement(s.default,null,v.sort().map((function(e){return o.default.createElement(d.default,{key:e},o.default.createElement(i.default,{component:"th",scope:"row"},o.default.createElement(b.Link,{href:(0,w.convertRC2Link)({skey:e}),target:"_blank",rel:"noopener"},e)),o.default.createElement(i.default,{align:"center"},l.summary_ref_map[e]),o.default.createElement(i.default,{align:"center"},l.detail_article_map[e].total),o.default.createElement(i.default,{align:"center"},l.detail_article_map[e].distinct))}))))))));case 19:case"end":return e.stop()}}),e,null,[[0,12]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){O(o,n,a,u,l,"next",e)}function l(e){O(o,n,a,u,l,"throw",e)}u(void 0)}))});return function(){return l.apply(this,arguments)}}()():E(o.default.createElement(p.default,{className:u.paper},o.default.createElement(m.default,{variant:"h5",gutterBottom:!0},'Invalid Book "',t.toUpperCase(),'" or Chapter(s) ',l)))}),[]),o.default.createElement("div",{className:u.root},x)}I.propTypes={classes:u.default.object,bookId:u.default.string.isRequired,chapter:u.default.string,clearFlag:u.default.bool,style:u.default.object};var C=(0,l.withStyles)((function(e){return{root:{}}}))(I);t.default=C},533:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.convertRC2Link=function(e){return e.skey.replace(/^rc.*dict(\/.*$)/,"https://git.door43.org/unfoldingWord/en_tw/src/branch/master$1.md")},t.validateInputProperties=function(e,t){if(""===t){var r={bookId:e,chapter:1,verse:1};return s.validateReference(r)}for(var n=t.split(","),a=0;a<n.length;a++){if(!s.validateReference({bookId:e,chapter:n[a],verse:1}))return!1}return!0},t.fetchBookPackageTw=function(e){return y.apply(this,arguments)},t.fetchObsTw=function(e){return g.apply(this,arguments)};var o,u=(o=r(211))&&o.__esModule?o:{default:o},l=r(130),c=p(r(100)),s=p(r(101)),i=p(r(61)),f=r(70);function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function m(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){v(o,n,a,u,l,"next",e)}function l(e){v(o,n,a,u,l,"throw",e)}u(void 0)}))}}function y(){return(y=h(n.mark((function e(t){var r,a,o,u,s,d,p,b,v,h,y,g,w,x,E,O,S,j,I,C,P,_,M,R,A,T,B,L,N,W,U,D,F;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.bookId,a=t.chapters,o=t.clearFlag,t.languageId,u="utw-"+r,void 0===o&&(o=!0),!o){e.next=8;break}return e.next=6,f.bpstore.removeItem(u);case 6:e.next=13;break;case 8:return e.next=10,f.bpstore.getItem(u);case 10:if(null===(s=e.sent)){e.next=13;break}return e.abrupt("return",s);case 13:return d=a.split(","),p=[],b=function(e){var t={};return e.forEach((function(e,r){t[r]=e})),t},v="https://git.door43.org/unfoldingWord/en_twl/raw/branch/master/twl_".concat(r.toUpperCase(),".tsv"),e.prev=17,e.next=20,c.getURL({uri:v});case 20:h=e.sent,e.next=29;break;case 23:throw e.prev=23,e.t0=e.catch(17),y="UTN Error on:"+v+" is:"+e.t0,p.push(y),console.log(y),new Error(y);case 29:g=[],w=(0,l.tsvParse)({tsv:h}),x=1;case 32:if(!(x<w.length)){e.next=43;break}if(E=w[x][0],O=E.split(":")[0],""===a&&(a="0"),"0"===a){e.next=39;break}if(d.includes(O)){e.next=39;break}return e.abrupt("continue",40);case 39:g.push(w[x][5]);case 40:x++,e.next=32;break;case 43:S=new Map,j=new Map,I=new Map,C=0;case 47:if(!(C<g.length)){e.next=53;break}return e.next=50,k(g[C],S,j,I,p);case 50:C++,e.next=47;break;case 53:P="",_=m(I.values());try{for(_.s();!(M=_.n()).done;)R=M.value,P=P+"\n"+R.allWords.join("\n")}catch(y){_.e(y)}finally{_.f()}A=i.wordCount(P),(T={}).summary_ref_map=b(S),T.summary_article_map=b(j),T.detail_article_map=b(I),B=0,L=m(S.values());try{for(L.s();!(N=L.n()).done;)W=N.value,B+=W}catch(y){L.e(y)}finally{L.f()}T.grandTotalWordCount=A.total,T.grandDistinctWordCount=A.distinct,T.totalReferences=B,T.distinctReferences=S.size,U=m(S.keys());try{for(U.s();!(D=U.n()).done;)F=D.value,I.has(F)||console.log("Key does not exist in by article map",F)}catch(y){U.e(y)}finally{U.f()}return e.next=72,f.bpstore.setItem(u,T);case 72:if(!(p.length>0)){e.next=75;break}return e.next=75,f.bpstore.setItem(u+"-errors",p);case 75:return e.abrupt("return",T);case 76:case"end":return e.stop()}}),e,null,[[17,23]])})))).apply(this,arguments)}function g(){return(g=h(n.mark((function e(t){var r,a,o,u,s,d,p,b,v,h,y,g,w,x,E,O,S,j,I,C,P,_,M,R,A,T,B,L,N;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.bookId,a=t.clearFlag,o="utw-"+r,void 0===a&&(a=!0),!a){e.next=8;break}return e.next=6,f.bpstore.removeItem(o);case 6:e.next=13;break;case 8:return e.next=10,f.bpstore.getItem(o);case 10:if(null===(u=e.sent)){e.next=13;break}return e.abrupt("return",u);case 13:return s=[],d=function(e){var t={};return e.forEach((function(e,r){t[r]=e})),t},p="https://git.door43.org/unfoldingWord/en_obs-twl/raw/branch/master/twl_OBS.tsv",e.prev=16,e.next=19,c.getURL({uri:p});case 19:b=e.sent,e.next=28;break;case 22:throw e.prev=22,e.t0=e.catch(16),v="UTN Error on:"+p+" is:"+e.t0,s.push(v),console.log(v),new Error(v);case 28:for(h=[],y=(0,l.tsvParse)({tsv:b}),g=1;g<y.length;g++)h.push(y[g][5]);w=new Map,x=new Map,E=new Map,O=0;case 35:if(!(O<h.length)){e.next=41;break}return e.next=38,k(h[O],w,x,E,s);case 38:O++,e.next=35;break;case 41:S="",j=m(E.values());try{for(j.s();!(I=j.n()).done;)C=I.value,S=S+"\n"+C.allWords.join("\n")}catch(v){j.e(v)}finally{j.f()}P=i.wordCount(S),(_={}).summary_ref_map=d(w),_.summary_article_map=d(x),_.detail_article_map=d(E),M=0,R=m(w.values());try{for(R.s();!(A=R.n()).done;)T=A.value,M+=T}catch(v){R.e(v)}finally{R.f()}_.grandTotalWordCount=P.total,_.grandDistinctWordCount=P.distinct,_.totalReferences=M,_.distinctReferences=w.size,B=m(w.keys());try{for(B.s();!(L=B.n()).done;)N=L.value,E.has(N)||console.log("Key does not exist in by article map",N)}catch(v){B.e(v)}finally{B.f()}return e.next=60,f.bpstore.setItem(o,_);case 60:if(!(s.length>0)){e.next=63;break}return e.next=63,f.bpstore.setItem(o+"-errors",s);case 63:return e.abrupt("return",_);case 64:case"end":return e.stop()}}),e,null,[[16,22]])})))).apply(this,arguments)}function k(e,t,r,n,a){return w.apply(this,arguments)}function w(){return(w=h(n.mark((function e(t,r,a,o,l){var s,f,d,p,m,b,v,h,y;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(s=r.get(t))&&(s=0),s+=1,r.set(t,s),!(s>1)){e.next=6;break}return e.abrupt("return");case 6:return f=[],d=t.replace(/^rc.*dict(\/.*$)/,"$1.md"),e.prev=8,p=u.default.join("unfoldingWord","en_tw","raw/branch","master",d),e.next=12,c.get({uri:p});case 12:f=e.sent,e.next=21;break;case 15:e.prev=15,e.t0=e.catch(8),m="UTW Error on:"+p+" is:"+e.t0,l.push(m),console.log(m),f=" ";case 21:for(b=i.wordCount(""+f),v=0;v<b.allWords.length;v++)h=b.allWords[v],void 0===(y=a.get(h))&&(y=0),y+=1,a.set(h,y);o.set(t,b);case 24:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}},534:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=B(r(0)),u=A(r(4)),l=r(24),c=A(r(26)),s=A(r(19)),i=A(r(28)),f=A(r(79)),d=A(r(66)),p=A(r(36)),m=A(r(80)),b=r(535),v=B(r(101)),h=B(r(61)),y=A(r(110)),g=A(r(119)),k=A(r(111)),w=A(r(90)),x=A(r(106)),E=A(r(112)),O=A(r(113)),S=A(r(115)),j=A(r(116)),I=A(r(117)),C=A(r(120)),P=A(r(114)),_=A(r(118)),M=A(r(121)),R=A(r(105));function A(e){return e&&e.__esModule?e:{default:e}}function T(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return T=function(){return e},e}function B(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=T();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function L(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var D={Add:(0,o.forwardRef)((function(e,t){return o.default.createElement(y.default,U({},e,{ref:t}))})),Check:(0,o.forwardRef)((function(e,t){return o.default.createElement(k.default,U({},e,{ref:t}))})),Clear:(0,o.forwardRef)((function(e,t){return o.default.createElement(x.default,U({},e,{ref:t}))})),Delete:(0,o.forwardRef)((function(e,t){return o.default.createElement(E.default,U({},e,{ref:t}))})),DetailPanel:(0,o.forwardRef)((function(e,t){return o.default.createElement(p.default,U({},e,{ref:t}))})),Edit:(0,o.forwardRef)((function(e,t){return o.default.createElement(O.default,U({},e,{ref:t}))})),Export:(0,o.forwardRef)((function(e,t){return o.default.createElement(P.default,U({},e,{ref:t}))})),Filter:(0,o.forwardRef)((function(e,t){return o.default.createElement(S.default,U({},e,{ref:t}))})),FirstPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(j.default,U({},e,{ref:t}))})),LastPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(I.default,U({},e,{ref:t}))})),NextPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(p.default,U({},e,{ref:t}))})),PreviousPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(w.default,U({},e,{ref:t}))})),ResetSearch:(0,o.forwardRef)((function(e,t){return o.default.createElement(x.default,U({},e,{ref:t}))})),Search:(0,o.forwardRef)((function(e,t){return o.default.createElement(_.default,U({},e,{ref:t}))})),SortArrow:(0,o.forwardRef)((function(e,t){return o.default.createElement(g.default,U({},e,{ref:t}))})),ThirdStateCheck:(0,o.forwardRef)((function(e,t){return o.default.createElement(C.default,U({},e,{ref:t}))})),ViewColumn:(0,o.forwardRef)((function(e,t){return o.default.createElement(M.default,U({},e,{ref:t}))}))};function F(e){var t=e.bookId,r=e.chapter,a=e.clearFlag,u=e.classes,l=(e.style,N((0,o.useState)(o.default.createElement(i.default,null)),2)),y=l[0],g=l[1];return(0,o.useEffect)((function(){var e=function(e,t){if("obs"===e)return!0;if(""===t){var r={bookId:e,chapter:1,verse:1};return v.validateReference(r)}for(var n=t.split(","),a=0;a<n.length;a++){if(!v.validateReference({bookId:e,chapter:n[a],verse:1}))return!1}return!0}(t,r),l=r||"(ALL)";e?function(){var e,l=(e=n.mark((function e(){var l,i,v;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"obs"!==t){e.next=7;break}return e.next=4,(0,b.fetchObsTq)({username:"unfoldingword",bookId:t,clearFlag:a});case 4:l=e.sent,e.next=10;break;case 7:return e.next=9,(0,b.fetchBookPackageTq)({username:"unfoldingword",languageId:"en",bookId:t,chapters:r,clearFlag:a});case 9:l=e.sent;case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),g(o.default.createElement("div",null,e.t0.message)),e.abrupt("return");case 16:i=h.wf_to_mt(l.wordFrequency),v="UTQ Word Count: "+l.total.toLocaleString(),g(o.default.createElement(c.default,{className:u.paper},o.default.createElement(f.default,{className:u.root,defaultCollapseIcon:o.default.createElement(d.default,null),defaultExpandIcon:o.default.createElement(p.default,null)},o.default.createElement(m.default,{nodeId:"1",label:v},o.default.createElement(s.default,{variant:"body2",gutterBottom:!0},o.default.createElement("i",null,"Number of Questions:",o.default.createElement("b",null,l.l1count))),o.default.createElement(R.default,{icons:D,title:i.title,columns:i.columns,data:i.data,options:i.options})))));case 19:case"end":return e.stop()}}),e,null,[[0,12]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){L(o,n,a,u,l,"next",e)}function l(e){L(o,n,a,u,l,"throw",e)}u(void 0)}))});return function(){return l.apply(this,arguments)}}()():g(o.default.createElement(c.default,{className:u.paper},o.default.createElement(s.default,{variant:"h5",gutterBottom:!0},'Invalid Book "',t.toUpperCase(),'" or Chapter(s) ',l)))}),[]),o.default.createElement("div",{className:u.root},y)}F.propTypes={classes:u.default.object,bookId:u.default.string.isRequired,chapter:u.default.string,clearFlag:u.default.bool,style:u.default.object};var q=(0,l.withStyles)((function(e){return{root:{}}}))(F);t.default=q},535:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBookPackageTq=function(e){return p.apply(this,arguments)},t.fetchObsTq=function(e){return m.apply(this,arguments)};var o=i(r(100)),u=i(r(61)),l=r(70),c=r(130);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function f(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){f(o,n,a,u,l,"next",e)}function l(e){f(o,n,a,u,l,"throw",e)}u(void 0)}))}}function p(){return(p=d(n.mark((function e(t){var r,a,s,i,f,d,p,m,b,v,h,y,g,k,w,x,E;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.bookId,a=t.chapters,s=t.clearFlag,i=t.languageId,f="utq-"+r,void 0===s&&(s=!0),!s){e.next=8;break}return e.next=6,l.bpstore.removeItem(f);case 6:e.next=13;break;case 8:return e.next=10,l.bpstore.getItem(f);case 10:if(null===(d=e.sent)){e.next=13;break}return e.abrupt("return",d);case 13:return p=[],e.next=16,o.fetchResourceManifests({username:"unfoldingword",languageId:i});case 16:return m=e.sent,e.next=19,(0,c.translationQuestions)({username:"unfoldingword",languageId:i,bookId:r,manifest:m.tq});case 19:p=e.sent,b=[],null===p&&b.push("UTQ Error: Cannot access:",r," -- error message not available"),v=a.split(","),h="",y=0,g=1;case 26:if(!(g<p.length)){e.next=40;break}if(void 0!==(k=p[g][0].split(":")[0])){e.next=30;break}return e.abrupt("continue",37);case 30:if(""===a){e.next=33;break}if(v.includes(k)){e.next=33;break}return e.abrupt("continue",37);case 33:y+=1,w=p[g][5],x=p[g][6],h=h+"\n"+w+"\n"+x;case 37:g++,e.next=26;break;case 40:return(E=u.wordCount(h)).l1count=y,e.next=44,l.bpstore.setItem(f,E);case 44:if(!(b.length>0)){e.next=47;break}return e.next=47,l.bpstore.setItem(f+"-errors",b);case 47:return e.abrupt("return",E);case 48:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=d(n.mark((function e(t){var r,a,s,i,f,d,p,m,b,v,h,y,g;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.bookId,a=t.clearFlag,s=[],i="utq-"+r,void 0===a&&(a=!0),!a){e.next=9;break}return e.next=7,l.bpstore.removeItem(i);case 7:e.next=14;break;case 9:return e.next=11,l.bpstore.getItem(i);case 11:if(null===(f=e.sent)){e.next=14;break}return e.abrupt("return",f);case 14:return d="https://git.door43.org/unfoldingWord/en_translation-annotations/raw/branch/master/OBS/OBS_tq.tsv",e.prev=15,e.next=18,o.getURL({uri:d});case 18:p=e.sent,e.next=27;break;case 21:throw e.prev=21,e.t0=e.catch(15),m="UTQ Error on:"+d+" is:"+e.t0,s.push(m),console.log(m),new Error(m);case 27:for(null===p&&s.push("UTQ Error: Cannot access:",r," -- error message not available"),b="",v=(0,c.tsvParse)({tsv:p}),0,h=1;h<v.length;h++)1,y=v[h][6],b=b+"\n"+y;return b=b.replace(/\\n/g,""),(g=u.wordCount(b)).l1count=v.length,e.next=37,l.bpstore.setItem(i,g);case 37:if(!(s.length>0)){e.next=40;break}return e.next=40,l.bpstore.setItem(i+"-errors",s);case 40:return e.abrupt("return",g);case 41:case"end":return e.stop()}}),e,null,[[15,21]])})))).apply(this,arguments)}},536:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=B(r(0)),u=A(r(4)),l=r(24),c=A(r(26)),s=A(r(19)),i=r(537),f=A(r(28)),d=A(r(79)),p=A(r(66)),m=A(r(36)),b=A(r(80)),v=B(r(101)),h=B(r(61)),y=A(r(110)),g=A(r(119)),k=A(r(111)),w=A(r(90)),x=A(r(106)),E=A(r(112)),O=A(r(113)),S=A(r(115)),j=A(r(116)),I=A(r(117)),C=A(r(120)),P=A(r(114)),_=A(r(118)),M=A(r(121)),R=A(r(105));function A(e){return e&&e.__esModule?e:{default:e}}function T(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return T=function(){return e},e}function B(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=T();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function L(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var D={Add:(0,o.forwardRef)((function(e,t){return o.default.createElement(y.default,U({},e,{ref:t}))})),Check:(0,o.forwardRef)((function(e,t){return o.default.createElement(k.default,U({},e,{ref:t}))})),Clear:(0,o.forwardRef)((function(e,t){return o.default.createElement(x.default,U({},e,{ref:t}))})),Delete:(0,o.forwardRef)((function(e,t){return o.default.createElement(E.default,U({},e,{ref:t}))})),DetailPanel:(0,o.forwardRef)((function(e,t){return o.default.createElement(m.default,U({},e,{ref:t}))})),Edit:(0,o.forwardRef)((function(e,t){return o.default.createElement(O.default,U({},e,{ref:t}))})),Export:(0,o.forwardRef)((function(e,t){return o.default.createElement(P.default,U({},e,{ref:t}))})),Filter:(0,o.forwardRef)((function(e,t){return o.default.createElement(S.default,U({},e,{ref:t}))})),FirstPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(j.default,U({},e,{ref:t}))})),LastPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(I.default,U({},e,{ref:t}))})),NextPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(m.default,U({},e,{ref:t}))})),PreviousPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(w.default,U({},e,{ref:t}))})),ResetSearch:(0,o.forwardRef)((function(e,t){return o.default.createElement(x.default,U({},e,{ref:t}))})),Search:(0,o.forwardRef)((function(e,t){return o.default.createElement(_.default,U({},e,{ref:t}))})),SortArrow:(0,o.forwardRef)((function(e,t){return o.default.createElement(g.default,U({},e,{ref:t}))})),ThirdStateCheck:(0,o.forwardRef)((function(e,t){return o.default.createElement(C.default,U({},e,{ref:t}))})),ViewColumn:(0,o.forwardRef)((function(e,t){return o.default.createElement(M.default,U({},e,{ref:t}))}))};function F(e){var t=e.bookId,r=e.chapter,a=e.clearFlag,u=e.classes,l=(e.style,N((0,o.useState)(o.default.createElement(f.default,null)),2)),y=l[0],g=l[1];return(0,o.useEffect)((function(){var e=function(e,t){if("obs"===e)return!0;if(""===t){var r={bookId:e,chapter:1,verse:1};return v.validateReference(r)}for(var n=t.split(","),a=0;a<n.length;a++){if(!v.validateReference({bookId:e,chapter:n[a],verse:1}))return!1}return!0}(t,r),l=r||"(ALL)";e?function(){var e,l=(e=n.mark((function e(){var l,f,v;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"obs"!==t){e.next=7;break}return e.next=4,(0,i.fetchObsTn)({username:"unfoldingword",bookId:t,clearFlag:a});case 4:l=e.sent,e.next=10;break;case 7:return e.next=9,(0,i.fetchBookPackageTn)({username:"unfoldingword",languageId:"en",bookId:t,chapters:r,clearFlag:a});case 9:l=e.sent;case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),g(o.default.createElement("div",null,e.t0.message)),e.abrupt("return");case 16:f=h.wf_to_mt(l.wordFrequency),v="UTN Word Count: "+l.total.toLocaleString(),g(o.default.createElement(c.default,{className:u.paper},o.default.createElement(d.default,{className:u.root,defaultCollapseIcon:o.default.createElement(p.default,null),defaultExpandIcon:o.default.createElement(m.default,null)},o.default.createElement(b.default,{nodeId:"1",label:v},o.default.createElement(s.default,{variant:"body2",gutterBottom:!0},o.default.createElement("i",null,"Number of Notes:",o.default.createElement("b",null,l.totalNotes))),o.default.createElement(R.default,{icons:D,title:f.title,columns:f.columns,data:f.data,options:f.options})))));case 19:case"end":return e.stop()}}),e,null,[[0,12]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){L(o,n,a,u,l,"next",e)}function l(e){L(o,n,a,u,l,"throw",e)}u(void 0)}))});return function(){return l.apply(this,arguments)}}()():g(o.default.createElement(c.default,{className:u.paper},o.default.createElement(s.default,{variant:"h5",gutterBottom:!0},'Invalid Book "',t.toUpperCase(),'" or Chapter(s) ',l)))}),[]),o.default.createElement("div",{className:u.root},y)}F.propTypes={classes:u.default.object,bookId:u.default.string.isRequired,chapter:u.default.string,clearFlag:u.default.bool,style:u.default.object};var q=(0,l.withStyles)((function(e){return{root:{}}}))(F);t.default=q},537:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBookPackageTn=function(e){return p.apply(this,arguments)},t.fetchObsTn=function(e){return m.apply(this,arguments)};var o=r(130),u=i(r(100)),l=i(r(61)),c=r(70);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function f(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){f(o,n,a,u,l,"next",e)}function l(e){f(o,n,a,u,l,"throw",e)}u(void 0)}))}}function p(){return(p=d(n.mark((function e(t){var r,a,s,i,f,d,p,m,b,v,h,y,g,k,w,x;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.bookId,a=t.chapters,s=t.clearFlag,i=t.languageId,f="utn-"+r,void 0===s&&(s=!0),!s){e.next=8;break}return e.next=6,c.bpstore.removeItem(f);case 6:e.next=13;break;case 8:return e.next=10,c.bpstore.getItem(f);case 10:if(null===(d=e.sent)){e.next=13;break}return e.abrupt("return",d);case 13:return p=[],e.next=16,u.fetchResourceManifests({username:"unfoldingword",languageId:i});case 16:return m=e.sent,e.next=19,(0,o.translationNotes)({username:"unfoldingword",languageId:i,bookId:r,manifest:m.tn});case 19:p=e.sent,b=[],null===p&&b.push("UTN Error: Cannot access:",r," -- error message not available"),v="",h=a.split(","),y=0,g=1;case 26:if(!(g<p.length)){e.next=39;break}if(void 0!==(k=p[g][1])){e.next=30;break}return e.abrupt("continue",36);case 30:if(""===a){e.next=33;break}if(h.includes(k)){e.next=33;break}return e.abrupt("continue",36);case 33:y+=1,w=p[g][8],v=v+"\n"+w;case 36:g++,e.next=26;break;case 39:return(x=l.wordCount(v)).totalNotes=y,e.next=43,c.bpstore.setItem(f,x);case 43:if(!(b.length>0)){e.next=46;break}return e.next=46,c.bpstore.setItem(f+"-errors",b);case 46:return e.abrupt("return",x);case 47:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=d(n.mark((function e(t){var r,a,s,i,f,d,p,m,b,v,h,y,g,k;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.bookId,a=t.clearFlag,s=[],i="utn-"+r,void 0===a&&(a=!0),!a){e.next=9;break}return e.next=7,c.bpstore.removeItem(i);case 7:e.next=14;break;case 9:return e.next=11,c.bpstore.getItem(i);case 11:if(null===(f=e.sent)){e.next=14;break}return e.abrupt("return",f);case 14:return d="https://git.door43.org/unfoldingWord/en_translation-annotations/raw/branch/master/OBS/OBS_tn.tsv",e.prev=15,e.next=18,u.getURL({uri:d});case 18:p=e.sent,e.next=27;break;case 21:throw e.prev=21,e.t0=e.catch(15),m="UTN Error on:"+d+" is:"+e.t0,s.push(m),console.log(m),new Error(m);case 27:for(null===p&&s.push("UTN Error: Cannot access:",r," -- error message not available"),b="",v=(0,o.tsvParse)({tsv:p}),h=0,y=1;y<v.length;y++)h+=1,g=v[y][6],b=b+"\n"+g;return(k=l.wordCount(b)).totalNotes=h,e.next=36,c.bpstore.setItem(i,k);case 36:if(!(s.length>0)){e.next=39;break}return e.next=39,c.bpstore.setItem(i+"-errors",s);case 39:return e.abrupt("return",k);case 40:case"end":return e.stop()}}),e,null,[[15,21]])})))).apply(this,arguments)}},538:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=S(r(0)),u=E(r(4)),l=r(24),c=E(r(26)),s=E(r(19)),i=E(r(127)),f=E(r(128)),d=E(r(54)),p=E(r(129)),m=E(r(64)),b=r(539),v=r(109),h=E(r(28)),y=E(r(79)),g=E(r(66)),k=E(r(36)),w=E(r(80)),x=S(r(101));function E(e){return e&&e.__esModule?e:{default:e}}function O(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return O=function(){return e},e}function S(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=O();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function j(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"===typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e){var t=e.bookId,r=e.chapter,a=e.clearFlag,u=e.classes,l=(e.style,C((0,o.useState)(o.default.createElement(h.default,null)),2)),E=l[0],O=l[1];return(0,o.useEffect)((function(){var e=function(e,t){if(""===t){var r={bookId:e,chapter:1,verse:1};return x.validateReference(r)}for(var n=t.split(","),a=0;a<n.length;a++){if(!x.validateReference({bookId:e,chapter:n[a],verse:1}))return!1}return!0}(t,r),l=r||"(ALL)";e?function(){var e,l=(e=n.mark((function e(){var l,h,x,E;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.fetchBookPackageTa)({username:"unfoldingword",languageId:"en",bookId:t,chapters:r,clearFlag:a});case 3:l=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),O(o.default.createElement("div",null,"fetchBookPackageTa() Error: ",e.t0.message)),e.abrupt("return");case 10:h=Array.from(Object.keys(l.summary_ref_map)),x=j(new Set(h)).sort(),E="UTA Word Count: "+l.grandTotalWordCount.toLocaleString(),O(o.default.createElement(c.default,{className:u.paper},o.default.createElement(y.default,{className:u.root,defaultCollapseIcon:o.default.createElement(g.default,null),defaultExpandIcon:o.default.createElement(k.default,null)},o.default.createElement(w.default,{nodeId:"1",label:E},o.default.createElement(s.default,{variant:"body2",gutterBottom:!0},o.default.createElement("i",null,"Linked entries:",o.default.createElement("b",null,x.length," unique"),", ",l.totalReferences," total links")),o.default.createElement(i.default,{className:u.table,size:"small","aria-label":"a dense table"},o.default.createElement(p.default,null,o.default.createElement(m.default,null,o.default.createElement(d.default,null,"Translation Academy"),o.default.createElement(d.default,{align:"center"},"Reference Count"),o.default.createElement(d.default,{align:"center"},"Word Count"),o.default.createElement(d.default,{align:"center"},"Unique Words"))),o.default.createElement(f.default,null,x.map((function(e){return o.default.createElement(m.default,{key:e},o.default.createElement(d.default,{component:"th",scope:"row"},o.default.createElement(v.Link,{href:(t=e,"https://git.door43.org/unfoldingWord/en_ta/src/branch/master/translate/"+t),target:"_blank",rel:"noopener"},e)),o.default.createElement(d.default,{align:"center"},l.summary_ref_map[e]),o.default.createElement(d.default,{align:"center"},l.detail_article_map[e].total),o.default.createElement(d.default,{align:"center"},l.detail_article_map[e].distinct));var t}))))))));case 14:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){I(o,n,a,u,l,"next",e)}function l(e){I(o,n,a,u,l,"throw",e)}u(void 0)}))});return function(){return l.apply(this,arguments)}}()():O(o.default.createElement(c.default,{className:u.paper},o.default.createElement(s.default,{variant:"h5",gutterBottom:!0},'Invalid Book "',t.toUpperCase(),'" or Chapter(s) ',l)))}),[]),o.default.createElement("div",{className:u.root},E)}M.propTypes={classes:u.default.object,bookId:u.default.string.isRequired,chapter:u.default.string,clearFlag:u.default.bool,style:u.default.object};var R=(0,l.withStyles)((function(e){return{root:{}}}))(M);t.default=R},539:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBookPackageTa=function(e){return h.apply(this,arguments)};var o,u=r(130),l=d(r(100)),c=d(r(61)),s=(o=r(211))&&o.__esModule?o:{default:o},i=r(70);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function p(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){b(o,n,a,u,l,"next",e)}function l(e){b(o,n,a,u,l,"throw",e)}u(void 0)}))}}function h(){return(h=v(n.mark((function e(t){var r,a,o,f,d,m,b,v,h,y,g,k,w,x,E,O,S,j,I,C,P,_,M,R,A,T,B,L,N,W,U,D,F,q,J,H,z;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.bookId,a=t.chapters,o=t.clearFlag,f=t.languageId,d="uta-"+r,void 0===o&&(o=!0),!o){e.next=8;break}return e.next=6,i.bpstore.removeItem(d);case 6:e.next=13;break;case 8:return e.next=10,i.bpstore.getItem(d);case 10:if(null===(m=e.sent)){e.next=13;break}return e.abrupt("return",m);case 13:return b=[],e.next=16,l.fetchResourceManifests({username:"unfoldingword",languageId:f});case 16:return v=e.sent,h="obs"===r?"obs-tn":"tn",e.next=20,(0,u.translationNotes)({username:"unfoldingword",languageId:f,bookId:r,manifest:v[h]});case 20:b=e.sent,y=function(e){var t={};return e.forEach((function(e,r){t[r]=e})),t},g=0,k=[],w=new Map,x=new Map,E=a.split(","),O=1;case 28:if(!(O<b.length)){e.next=44;break}if(S="",void 0!==(S="obs"===r?b[O][0].split(":")[0]:b[O][1])){e.next=33;break}return e.abrupt("continue",41);case 33:if(""===a){e.next=36;break}if(E.includes(S)){e.next=36;break}return e.abrupt("continue",41);case 36:if(j="","obs"===r?(I=b[O][3].match(/(?<=translate\/).*/),j=I?I[0]:void 0):j=b[O][4],void 0!==j){e.next=40;break}return e.abrupt("continue",41);case 40:""!==j&&(g+=1,k.push(j),void 0===(C=w.get(j))&&(C=0),C+=1,w.set(j,C));case 41:O++,e.next=28;break;case 44:P=f+"_ta",_="/",M="translate/",R=["title.md","sub-title.md","01.md"],A="",T=p(new Set(k)).sort(),B=[],L=0;case 52:if(!(L<T.length)){e.next=85;break}N="",W=0;case 55:if(!(W<R.length)){e.next=79;break}return U=M+T[L]+_+R[W],D=[],F=void 0,e.prev=59,F=s.default.join("unfoldingWord",P,"raw/branch","master",U),e.next=63,l.get({uri:F});case 63:D=e.sent,e.next=73;break;case 66:return e.prev=66,e.t0=e.catch(59),q="UTA Error on:"+F+" is:"+e.t0,B.push(q),console.log(q),D=null,e.abrupt("continue",76);case 73:if(null!=D){e.next=75;break}return e.abrupt("continue",76);case 75:N=N+" "+D;case 76:W++,e.next=55;break;case 79:A=A+" "+N,J=c.wordCount(N),x.set(T[L],J);case 82:L++,e.next=52;break;case 85:return(H={}).summary_ref_map=y(w),H.detail_article_map=y(x),z=c.wordCount(A),H.summary_article_map=z.wordFrequency,H.grandDistinctWordCount=z.distinct,H.grandTotalWordCount=z.total,H.totalReferences=g,H.distinctReferences=w.size,e.next=96,i.bpstore.setItem(d,H);case 96:if(!(B.length>0)){e.next=99;break}return e.next=99,i.bpstore.setItem(d+"-errors",B);case 99:return e.abrupt("return",H);case 100:case"end":return e.stop()}}),e,null,[[59,66]])})))).apply(this,arguments)}},540:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=B(r(0)),u=A(r(4)),l=r(24),c=A(r(26)),s=A(r(19)),i=A(r(28)),f=A(r(79)),d=A(r(66)),p=A(r(36)),m=A(r(80)),b=r(541),v=B(r(101)),h=B(r(61)),y=A(r(110)),g=A(r(119)),k=A(r(111)),w=A(r(90)),x=A(r(106)),E=A(r(112)),O=A(r(113)),S=A(r(115)),j=A(r(116)),I=A(r(117)),C=A(r(120)),P=A(r(114)),_=A(r(118)),M=A(r(121)),R=A(r(105));function A(e){return e&&e.__esModule?e:{default:e}}function T(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return T=function(){return e},e}function B(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=T();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function L(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var D={Add:(0,o.forwardRef)((function(e,t){return o.default.createElement(y.default,U({},e,{ref:t}))})),Check:(0,o.forwardRef)((function(e,t){return o.default.createElement(k.default,U({},e,{ref:t}))})),Clear:(0,o.forwardRef)((function(e,t){return o.default.createElement(x.default,U({},e,{ref:t}))})),Delete:(0,o.forwardRef)((function(e,t){return o.default.createElement(E.default,U({},e,{ref:t}))})),DetailPanel:(0,o.forwardRef)((function(e,t){return o.default.createElement(p.default,U({},e,{ref:t}))})),Edit:(0,o.forwardRef)((function(e,t){return o.default.createElement(O.default,U({},e,{ref:t}))})),Export:(0,o.forwardRef)((function(e,t){return o.default.createElement(P.default,U({},e,{ref:t}))})),Filter:(0,o.forwardRef)((function(e,t){return o.default.createElement(S.default,U({},e,{ref:t}))})),FirstPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(j.default,U({},e,{ref:t}))})),LastPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(I.default,U({},e,{ref:t}))})),NextPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(p.default,U({},e,{ref:t}))})),PreviousPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(w.default,U({},e,{ref:t}))})),ResetSearch:(0,o.forwardRef)((function(e,t){return o.default.createElement(x.default,U({},e,{ref:t}))})),Search:(0,o.forwardRef)((function(e,t){return o.default.createElement(_.default,U({},e,{ref:t}))})),SortArrow:(0,o.forwardRef)((function(e,t){return o.default.createElement(g.default,U({},e,{ref:t}))})),ThirdStateCheck:(0,o.forwardRef)((function(e,t){return o.default.createElement(C.default,U({},e,{ref:t}))})),ViewColumn:(0,o.forwardRef)((function(e,t){return o.default.createElement(M.default,U({},e,{ref:t}))}))};function F(e){var t=e.bookId,r=e.chapter,a=e.clearFlag,u=e.classes,l=(e.style,N((0,o.useState)(o.default.createElement(i.default,null)),2)),y=l[0],g=l[1];return(0,o.useEffect)((function(){var e=function(e,t){if(""===t){var r={bookId:e,chapter:1,verse:1};return v.validateReference(r)}for(var n=t.split(","),a=0;a<n.length;a++){if(!v.validateReference({bookId:e,chapter:n[a],verse:1}))return!1}return!0}(t,r),l=r||"(ALL)";e?function(){var e,l=(e=n.mark((function e(){var l,s,i,v;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.fetchBookPackageULT)({username:"unfoldingword",languageId:"en",bookId:t,chapters:r,clearFlag:a});case 3:l=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),g(o.default.createElement("div",null,e.t0.message)),e.abrupt("return");case 10:s=h.wf_to_mt(l.wordFrequency),i=l.total,v="ULT Word Count: "+i.toLocaleString(),g(o.default.createElement(c.default,{className:u.paper},o.default.createElement(f.default,{className:u.root,defaultCollapseIcon:o.default.createElement(d.default,null),defaultExpandIcon:o.default.createElement(p.default,null)},o.default.createElement(m.default,{nodeId:"1",label:v},o.default.createElement(R.default,{icons:D,title:s.title,columns:s.columns,data:s.data,options:s.options})))));case 14:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){L(o,n,a,u,l,"next",e)}function l(e){L(o,n,a,u,l,"throw",e)}u(void 0)}))});return function(){return l.apply(this,arguments)}}()():g(o.default.createElement(c.default,{className:u.paper},o.default.createElement(s.default,{variant:"h5",gutterBottom:!0},'Invalid Book "',t.toUpperCase(),'" or Chapter(s) ',l)))}),[]),o.default.createElement("div",{className:u.root},y)}F.propTypes={classes:u.default.object,bookId:u.default.string.isRequired,chapter:u.default.string,clearFlag:u.default.bool,style:u.default.object};var q=(0,l.withStyles)((function(e){return{root:{}}}))(F);t.default=q},541:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBookPackageULT=function(e){return g.apply(this,arguments)};var o=r(130),u=i(r(100)),l=i(r(61)),c=r(70);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=p(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function p(e,t){if(e){if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){b(o,n,a,u,l,"next",e)}function l(e){b(o,n,a,u,l,"throw",e)}u(void 0)}))}}var h=function(e){var t=new Map;return Object.keys(e).forEach((function(r){t.set(r,e[r])})),t};function y(e,t,r){for(var n=0;n<e.length;n++){var a=h(e[n]);if("word"!==a.get("type")){var o=a.get("children");void 0!==o&&y(o,t,r+1)}else t.push(a.get("text").toLowerCase())}}function g(){return(g=v(n.mark((function e(t){var r,a,s,i,p,m,b,v,g,k,w,x,E,O,S,j,I,C,P,_,M,R,A,T,B,L,N,W,U,D,F,q,J;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.bookId,a=t.chapters,s=t.clearFlag,i=t.languageId,p="ult-"+r,void 0===s&&(s=!0),!s){e.next=8;break}return e.next=6,c.bpstore.removeItem(p);case 6:e.next=13;break;case 8:return e.next=10,c.bpstore.getItem(p);case 10:if(null===(m=e.sent)){e.next=13;break}return e.abrupt("return",m);case 13:return e.next=15,u.fetchResourceManifests({username:"unfoldingword",languageId:i});case 15:return v=e.sent,e.next=18,(0,o.fetchBook)({username:"unfoldingword",languageId:i,resourceId:"ult",bookId:r,manifest:v.ult});case 18:b=e.sent,g=[],null===b&&g.push("ULT Error: Cannot access ",r," -- error message not available"),k=h(b),w=a.split(","),x=[],E=d(k.entries()),e.prev=25,E.s();case 27:if((O=E.n()).done){e.next=38;break}if(S=f(O.value,2),j=S[0],I=S[1],""===a&&(a="0"),"0"===a){e.next=33;break}if(w.includes(j)){e.next=33;break}return e.abrupt("continue",36);case 33:C=h(I),P=d(C.values());try{for(P.s();!(_=P.n()).done;){M=_.value,R=h(M),A=d(R.values());try{for(A.s();!(T=A.n()).done;)for(B=T.value,L=0;L<B.length;L++){(N=h(B[L])).has("text")&&x.push(N.get("text").toLowerCase()),"word"===N.get("type")&&x.push(N.get("text").toLowerCase()),W=d(N.entries());try{for(W.s();!(U=W.n()).done;)D=f(U.value,2),F=D[0],q=D[1],"children"===F&&y(q,x,1)}catch(n){W.e(n)}finally{W.f()}}}catch(n){A.e(n)}finally{A.f()}}}catch(n){P.e(n)}finally{P.f()}case 36:e.next=27;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(25),E.e(e.t0);case 43:return e.prev=43,E.f(),e.finish(43);case 46:return J=l.wordCount(x.join("\n")),e.next=49,c.bpstore.setItem(p,J);case 49:if(!(g.length>0)){e.next=52;break}return e.next=52,c.bpstore.setItem(p+"-errors",g);case 52:return e.abrupt("return",J);case 53:case"end":return e.stop()}}),e,null,[[25,40,43,46]])})))).apply(this,arguments)}},542:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=B(r(0)),u=A(r(4)),l=r(24),c=A(r(26)),s=A(r(19)),i=A(r(28)),f=A(r(79)),d=A(r(66)),p=A(r(36)),m=A(r(80)),b=r(543),v=B(r(101)),h=B(r(61)),y=A(r(110)),g=A(r(119)),k=A(r(111)),w=A(r(90)),x=A(r(106)),E=A(r(112)),O=A(r(113)),S=A(r(115)),j=A(r(116)),I=A(r(117)),C=A(r(120)),P=A(r(114)),_=A(r(118)),M=A(r(121)),R=A(r(105));function A(e){return e&&e.__esModule?e:{default:e}}function T(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return T=function(){return e},e}function B(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=T();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function L(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var D={Add:(0,o.forwardRef)((function(e,t){return o.default.createElement(y.default,U({},e,{ref:t}))})),Check:(0,o.forwardRef)((function(e,t){return o.default.createElement(k.default,U({},e,{ref:t}))})),Clear:(0,o.forwardRef)((function(e,t){return o.default.createElement(x.default,U({},e,{ref:t}))})),Delete:(0,o.forwardRef)((function(e,t){return o.default.createElement(E.default,U({},e,{ref:t}))})),DetailPanel:(0,o.forwardRef)((function(e,t){return o.default.createElement(p.default,U({},e,{ref:t}))})),Edit:(0,o.forwardRef)((function(e,t){return o.default.createElement(O.default,U({},e,{ref:t}))})),Export:(0,o.forwardRef)((function(e,t){return o.default.createElement(P.default,U({},e,{ref:t}))})),Filter:(0,o.forwardRef)((function(e,t){return o.default.createElement(S.default,U({},e,{ref:t}))})),FirstPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(j.default,U({},e,{ref:t}))})),LastPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(I.default,U({},e,{ref:t}))})),NextPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(p.default,U({},e,{ref:t}))})),PreviousPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(w.default,U({},e,{ref:t}))})),ResetSearch:(0,o.forwardRef)((function(e,t){return o.default.createElement(x.default,U({},e,{ref:t}))})),Search:(0,o.forwardRef)((function(e,t){return o.default.createElement(_.default,U({},e,{ref:t}))})),SortArrow:(0,o.forwardRef)((function(e,t){return o.default.createElement(g.default,U({},e,{ref:t}))})),ThirdStateCheck:(0,o.forwardRef)((function(e,t){return o.default.createElement(C.default,U({},e,{ref:t}))})),ViewColumn:(0,o.forwardRef)((function(e,t){return o.default.createElement(M.default,U({},e,{ref:t}))}))};function F(e){var t=e.bookId,r=e.chapter,a=e.clearFlag,u=e.classes,l=(e.style,N((0,o.useState)(o.default.createElement(i.default,null)),2)),y=l[0],g=l[1];return(0,o.useEffect)((function(){var e=function(e,t){if(""===t){var r={bookId:e,chapter:1,verse:1};return v.validateReference(r)}for(var n=t.split(","),a=0;a<n.length;a++){if(!v.validateReference({bookId:e,chapter:n[a],verse:1}))return!1}return!0}(t,r),l=r||"(ALL)";e?function(){var e,l=(e=n.mark((function e(){var l,s,i,v;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.fetchBookPackageUST)({username:"unfoldingword",languageId:"en",bookId:t,chapters:r,clearFlag:a});case 3:l=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),g(o.default.createElement("div",null,e.t0.message)),e.abrupt("return");case 10:s=h.wf_to_mt(l.wordFrequency),i=l.total,v="UST Word Count: "+i.toLocaleString(),g(o.default.createElement(c.default,{className:u.paper},o.default.createElement(f.default,{className:u.root,defaultCollapseIcon:o.default.createElement(d.default,null),defaultExpandIcon:o.default.createElement(p.default,null)},o.default.createElement(m.default,{nodeId:"1",label:v},o.default.createElement(R.default,{icons:D,title:s.title,columns:s.columns,data:s.data,options:s.options})))));case 14:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){L(o,n,a,u,l,"next",e)}function l(e){L(o,n,a,u,l,"throw",e)}u(void 0)}))});return function(){return l.apply(this,arguments)}}()():g(o.default.createElement(c.default,{className:u.paper},o.default.createElement(s.default,{variant:"h5",gutterBottom:!0},'Invalid Book "',t.toUpperCase(),'" or Chapter(s) ',l)))}),[]),o.default.createElement("div",{className:u.root},y)}F.propTypes={classes:u.default.object,bookId:u.default.string.isRequired,chapter:u.default.string,clearFlag:u.default.bool,style:u.default.object};var q=(0,l.withStyles)((function(e){return{root:{}}}))(F);t.default=q},543:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBookPackageUST=function(e){return g.apply(this,arguments)};var o=r(130),u=i(r(100)),l=i(r(61)),c=r(70);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=p(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function p(e,t){if(e){if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){b(o,n,a,u,l,"next",e)}function l(e){b(o,n,a,u,l,"throw",e)}u(void 0)}))}}var h=function(e){var t=new Map;return Object.keys(e).forEach((function(r){t.set(r,e[r])})),t};function y(e,t,r){for(var n=0;n<e.length;n++){var a=h(e[n]);if("word"!==a.get("type")){var o=a.get("children");void 0!==o&&y(o,t,r+1)}else t.push(a.get("text").toLowerCase())}}function g(){return(g=v(n.mark((function e(t){var r,a,s,i,p,m,b,v,g,k,w,x,E,O,S,j,I,C,P,_,M,R,A,T,B,L,N,W,U,D,F,q,J;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.bookId,a=t.chapters,s=t.clearFlag,i=t.languageId,p="ust-"+r,void 0===s&&(s=!0),!s){e.next=8;break}return e.next=6,c.bpstore.removeItem(p);case 6:e.next=13;break;case 8:return e.next=10,c.bpstore.getItem(p);case 10:if(null===(m=e.sent)){e.next=13;break}return e.abrupt("return",m);case 13:return e.next=15,u.fetchResourceManifests({username:"unfoldingword",languageId:i});case 15:return v=e.sent,e.next=18,(0,o.fetchBook)({username:"unfoldingword",languageId:i,resourceId:"ust",bookId:r,manifest:v.ust});case 18:b=e.sent,g=[],null===b&&g.push("UST Error: Cannot access ",r," -- error message not available"),k=h(b),w=a.split(","),x=[],E=d(k.entries()),e.prev=25,E.s();case 27:if((O=E.n()).done){e.next=38;break}if(S=f(O.value,2),j=S[0],I=S[1],""===a&&(a="0"),"0"===a){e.next=33;break}if(w.includes(j)){e.next=33;break}return e.abrupt("continue",36);case 33:C=h(I),P=d(C.values());try{for(P.s();!(_=P.n()).done;){M=_.value,R=h(M),A=d(R.values());try{for(A.s();!(T=A.n()).done;)for(B=T.value,L=0;L<B.length;L++){(N=h(B[L])).has("text")&&x.push(N.get("text").toLowerCase()),"word"===N.get("type")&&x.push(N.get("text").toLowerCase()),W=d(N.entries());try{for(W.s();!(U=W.n()).done;)D=f(U.value,2),F=D[0],q=D[1],"children"===F&&y(q,x,1)}catch(n){W.e(n)}finally{W.f()}}}catch(n){A.e(n)}finally{A.f()}}}catch(n){P.e(n)}finally{P.f()}case 36:e.next=27;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(25),E.e(e.t0);case 43:return e.prev=43,E.f(),e.finish(43);case 46:return J=l.wordCount(x.join("\n")),e.next=49,c.bpstore.setItem(p,J);case 49:if(!(g.length>0)){e.next=52;break}return e.next=52,c.bpstore.setItem(p+"-errors",g);case 52:return e.abrupt("return",J);case 53:case"end":return e.stop()}}),e,null,[[25,40,43,46]])})))).apply(this,arguments)}},544:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(545))&&n.__esModule?n:{default:n}},545:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=C(r(0)),u=j(r(4)),l=r(24),c=j(r(26)),s=j(r(19)),i=j(r(28)),f=j(r(79)),d=j(r(66)),p=j(r(36)),m=j(r(80)),b=C(r(101)),v=r(70),h=j(r(388)),y=j(r(547)),g=j(r(382)),k=j(r(384)),w=j(r(385)),x=j(r(383)),E=j(r(386)),O=j(r(387)),S=j(r(550));function j(e){return e&&e.__esModule?e:{default:e}}function I(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return I=function(){return e},e}function C(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=I();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function R(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){M(o,n,a,u,l,"next",e)}function l(e){M(o,n,a,u,l,"throw",e)}u(void 0)}))}}function A(e,t){return T.apply(this,arguments)}function T(){return(T=R(n.mark((function e(t,r){var a,o,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("obs"!==t){e.next=2;break}return e.abrupt("return",!0);case 2:if(""!==r){e.next=5;break}return a={bookId:t,chapter:1,verse:1},e.abrupt("return",b.validateReference(a));case 5:o=r.split(","),u=0;case 7:if(!(u<o.length)){e.next=15;break}if(!b.validateReference({bookId:t,chapter:o[u],verse:1})){e.next=11;break}return e.abrupt("continue",12);case 11:return e.abrupt("return",!1);case 12:u++,e.next=7;break;case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){var t=e.bookId,r=e.chapter,a=e.clearFlag,u=e.classes;e.style;void 0===a&&(a=!0);var l=P((0,o.useState)(o.default.createElement(i.default,null)),2),j=l[0],I=l[1];return(0,o.useEffect)((function(){(function(){var e=R(n.mark((function e(){var l,i,j,C;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.split(","),j=0;case 2:if(!(j<i.length)){e.next=11;break}return e.next=5,A(i[j],r);case 5:if(l=e.sent){e.next=8;break}return e.abrupt("break",11);case 8:j++,e.next=2;break;case 11:if(C=r||"(ALL)",!l){e.next=18;break}return e.next=15,v.bpstore.setItem("bookid",t);case 15:I(o.default.createElement(c.default,{className:u.paper},o.default.createElement(h.default,{bookId:t}),i.sort().map((function(e){return o.default.createElement(c.default,null,o.default.createElement(f.default,{defaultCollapseIcon:o.default.createElement(d.default,null),defaultExpandIcon:o.default.createElement(p.default,null),defaultExpanded:["1"]},o.default.createElement(m.default,{nodeId:"1",label:o.default.createElement(s.default,{variant:"h6"},"obs"===e?"OBS":b.bookTitleById(e)," ",o.default.createElement(y.default,{bookId:e}))},"obs"===e?o.default.createElement(o.default.Fragment,null,o.default.createElement(S.default,{bookId:e,clearFlag:a}),o.default.createElement(w.default,{bookId:e,chapter:r,clearFlag:a}),o.default.createElement(g.default,{bookId:e,chapter:r,clearFlag:a}),o.default.createElement(k.default,{bookId:e,chapter:r,clearFlag:a}),o.default.createElement(x.default,{bookId:e,chapter:r,clearFlag:a})):o.default.createElement(o.default.Fragment,null,o.default.createElement(E.default,{bookId:e,chapter:r,clearFlag:a}),o.default.createElement(O.default,{bookId:e,chapter:r,clearFlag:a}),o.default.createElement(w.default,{bookId:e,chapter:r,clearFlag:a}),o.default.createElement(g.default,{bookId:e,chapter:r,clearFlag:a}),o.default.createElement(k.default,{bookId:e,chapter:r,clearFlag:a}),o.default.createElement(x.default,{bookId:e,chapter:r,clearFlag:a})))))})))),e.next=19;break;case 18:I(o.default.createElement(c.default,{className:u.paper},o.default.createElement(s.default,{variant:"h5",gutterBottom:!0},'Invalid Book "',t.toUpperCase(),'" or Chapter(s) ',C)));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),o.default.createElement("div",{className:u.root},j)}B.propTypes={classes:u.default.object,bookId:u.default.string.isRequired,chapter:u.default.string,clearFlag:u.default.bool,style:u.default.object};var L=(0,l.withStyles)((function(e){return{root:{}}}))(B);t.default=L},546:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=T(r(0)),u=R(r(4)),l=r(24),c=R(r(19)),s=R(r(28)),i=R(r(79)),f=R(r(66)),d=R(r(36)),p=R(r(80)),m=R(r(26)),b=R(r(110)),v=R(r(119)),h=R(r(111)),y=R(r(90)),g=R(r(106)),k=R(r(112)),w=R(r(113)),x=R(r(115)),E=R(r(116)),O=R(r(117)),S=R(r(120)),j=R(r(114)),I=R(r(118)),C=R(r(121)),P=R(r(105)),_=T(r(61)),M=r(70);function R(e){return e&&e.__esModule?e:{default:e}}function A(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return A=function(){return e},e}function T(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=A();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function B(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=N(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"===typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function D(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){U(o,n,a,u,l,"next",e)}function l(e){U(o,n,a,u,l,"throw",e)}u(void 0)}))}}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var q={Add:(0,o.forwardRef)((function(e,t){return o.default.createElement(b.default,F({},e,{ref:t}))})),Check:(0,o.forwardRef)((function(e,t){return o.default.createElement(h.default,F({},e,{ref:t}))})),Clear:(0,o.forwardRef)((function(e,t){return o.default.createElement(g.default,F({},e,{ref:t}))})),Delete:(0,o.forwardRef)((function(e,t){return o.default.createElement(k.default,F({},e,{ref:t}))})),DetailPanel:(0,o.forwardRef)((function(e,t){return o.default.createElement(d.default,F({},e,{ref:t}))})),Edit:(0,o.forwardRef)((function(e,t){return o.default.createElement(w.default,F({},e,{ref:t}))})),Export:(0,o.forwardRef)((function(e,t){return o.default.createElement(j.default,F({},e,{ref:t}))})),Filter:(0,o.forwardRef)((function(e,t){return o.default.createElement(x.default,F({},e,{ref:t}))})),FirstPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(E.default,F({},e,{ref:t}))})),LastPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(O.default,F({},e,{ref:t}))})),NextPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(d.default,F({},e,{ref:t}))})),PreviousPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(y.default,F({},e,{ref:t}))})),ResetSearch:(0,o.forwardRef)((function(e,t){return o.default.createElement(g.default,F({},e,{ref:t}))})),Search:(0,o.forwardRef)((function(e,t){return o.default.createElement(I.default,F({},e,{ref:t}))})),SortArrow:(0,o.forwardRef)((function(e,t){return o.default.createElement(v.default,F({},e,{ref:t}))})),ThirdStateCheck:(0,o.forwardRef)((function(e,t){return o.default.createElement(S.default,F({},e,{ref:t}))})),ViewColumn:(0,o.forwardRef)((function(e,t){return o.default.createElement(C.default,F({},e,{ref:t}))}))};function J(e,t,r){return H.apply(this,arguments)}function H(){return(H=D(n.mark((function e(t,r,a){var u,l,s,b,v,h,y,g,k,w;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e){var t=new Map;return Object.keys(e).forEach((function(r){t.set(r,e[r])})),t},l=["uta-","utw-","utq-","utn-","ult-","ust-","obs-"],s=["uta-","utw-","utq-","utn-","obs-"],b=0,v=0,h=0,y=0,g=0,k=0,w=0,e.next=12,function(){var e=D(n.mark((function e(x){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(D(n.mark((function e(){var t,E,O,S,j,I,C,R,A,T,N,W,U,D,F,J,H,z,$,G,K,Z,Q,V,X,Y,ee,te,re,ne,ae,oe,ue,le,ce,se,ie,fe,de,pe,me,be,ve,he,ye,ge,ke,we,xe,Ee,Oe,Se,je,Ie,Ce,Pe,_e,Me,Re,Ae,Te,Be,Le,Ne,We,Ue,De,Fe,qe,Je,He,ze,$e;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.bpstore.getItem("bookid");case 2:if(null!==(t=e.sent)){e.next=7;break}a("Please run BookPackageRollup"),e.next=158;break;case 7:if(!--x){e.next=156;break}E=t.split(","),O=new Map,S=new Map,j=!0,I=0;case 13:if(!(I<l.length)){e.next=39;break}C=0;case 15:if(!(C<E.length)){e.next=36;break}if("obs-"!==l[I]){e.next=19;break}if("obs"===E[C]){e.next=19;break}return e.abrupt("continue",33);case 19:if("obs"!==E[C]){e.next=24;break}if(l[I]!==s[0]&&l[I]!==s[1]&&l[I]!==s[2]&&l[I]!==s[3]&&l[I]!==s[4]){e.next=23;break}e.next=24;break;case 23:return e.abrupt("continue",33);case 24:return R=l[I]+E[C],e.next=27,M.bpstore.getItem(R);case 27:if(null!==(A=e.sent)){e.next=32;break}return j=!1,console.log("iter",x,",missing:",R),e.abrupt("break",36);case 32:S.set(R,A);case 33:C++,e.next=15;break;case 36:I++,e.next=13;break;case 39:if(!j){e.next=153;break}console.log("All Present!"),T=new Map,N=B(S.entries()),e.prev=43,N.s();case 45:if((W=N.n()).done){e.next=69;break}if(U=L(W.value,2),D=U[0],F=U[1],!D.startsWith("uta")){e.next=67;break}J=u(F.detail_article_map),H=B(J.entries()),e.prev=50,H.s();case 52:if((z=H.n()).done){e.next=59;break}if($=L(z.value,2),G=$[0],K=$[1],!T.get(G)){e.next=56;break}return e.abrupt("continue",57);case 56:T.set(G,K.wordFrequency);case 57:e.next=52;break;case 59:e.next=64;break;case 61:e.prev=61,e.t0=e.catch(50),H.e(e.t0);case 64:return e.prev=64,H.f(),e.finish(64);case 67:e.next=45;break;case 69:e.next=74;break;case 71:e.prev=71,e.t1=e.catch(43),N.e(e.t1);case 74:return e.prev=74,N.f(),e.finish(74);case 77:Z=B(T.values());try{for(Z.s();!(Q=Z.n()).done;){V=Q.value,X=u(V),Y=B(X.entries());try{for(Y.s();!(ee=Y.n()).done;)te=L(ee.value,2),re=te[0],ne=te[1],void 0===(ae=O.get(re))&&(ae=0),O.set(re,ae+ne),k+=ne}catch(n){Y.e(n)}finally{Y.f()}}}catch(n){Z.e(n)}finally{Z.f()}oe=new Map,ue=B(S.entries()),e.prev=81,ue.s();case 83:if((le=ue.n()).done){e.next=107;break}if(ce=L(le.value,2),se=ce[0],ie=ce[1],!se.startsWith("utw")){e.next=105;break}fe=u(ie.detail_article_map),de=B(fe.entries()),e.prev=88,de.s();case 90:if((pe=de.n()).done){e.next=97;break}if(me=L(pe.value,2),be=me[0],ve=me[1],!oe.get(be)){e.next=94;break}return e.abrupt("continue",95);case 94:oe.set(be,ve.wordFrequency);case 95:e.next=90;break;case 97:e.next=102;break;case 99:e.prev=99,e.t2=e.catch(88),de.e(e.t2);case 102:return e.prev=102,de.f(),e.finish(102);case 105:e.next=83;break;case 107:e.next=112;break;case 109:e.prev=109,e.t3=e.catch(81),ue.e(e.t3);case 112:return e.prev=112,ue.f(),e.finish(112);case 115:he=B(oe.values());try{for(he.s();!(ye=he.n()).done;){ge=ye.value,ke=u(ge),we=B(ke.entries());try{for(we.s();!(xe=we.n()).done;)Ee=L(xe.value,2),Oe=Ee[0],Se=Ee[1],void 0===(je=O.get(Oe))&&(je=0),O.set(Oe,je+Se),g+=Se}catch(n){we.e(n)}finally{we.f()}}}catch(n){he.e(n)}finally{he.f()}Ie=B(S.entries()),e.prev=118,Ie.s();case 120:if((Ce=Ie.n()).done){e.next=136;break}if(Pe=L(Ce.value,2),_e=Pe[0],Me=Pe[1],!_e.startsWith("uta")){e.next=126;break}return e.abrupt("continue",134);case 126:if(!_e.startsWith("utw")){e.next=130;break}return e.abrupt("continue",134);case 130:Re=u(Me),Ae=u(Re.get("wordFrequency")),Te=B(Ae.entries());try{for(Te.s();!(Be=Te.n()).done;)Le=L(Be.value,2),Ne=Le[0],We=Le[1],void 0===(Ue=O.get(Ne))&&(Ue=0),O.set(Ne,Ue+We),_e.startsWith("ult")?b+=We:_e.startsWith("ust")?v+=We:_e.startsWith("utn")?h+=We:_e.startsWith("utq")?y+=We:_e.startsWith("obs")?w+=We:console.log("Unknown resource type:",_e)}catch(n){Te.e(n)}finally{Te.f()}case 134:e.next=120;break;case 136:e.next=141;break;case 138:e.prev=138,e.t4=e.catch(118),Ie.e(e.t4);case 141:return e.prev=141,Ie.f(),e.finish(141);case 144:De=0,Fe=B(O.values());try{for(Fe.s();!(qe=Fe.n()).done;)Je=qe.value,De+=Je}catch(n){Fe.e(n)}finally{Fe.f()}return He=_.map_to_obj(O),ze=_.wf_to_mt(He),$e="Book Packages Total Word Count: "+De.toLocaleString(),"Details",a(o.default.createElement(m.default,null,o.default.createElement(i.default,{defaultCollapseIcon:o.default.createElement(f.default,null),defaultExpandIcon:o.default.createElement(d.default,null),defaultExpanded:["1","2"]},o.default.createElement(p.default,{nodeId:"1",label:o.default.createElement(c.default,{variant:"h5"},$e)},o.default.createElement(p.default,{nodeId:"2",label:o.default.createElement(c.default,{variant:"h6"},"Resource Subtotals for Selected Book Packages")},o.default.createElement(c.default,{variant:"body2",gutterBottom:!0},o.default.createElement("ul",null,o.default.createElement("li",null,"ULT ",o.default.createElement("strong",null,b.toLocaleString())," "),o.default.createElement("li",null,"UST ",o.default.createElement("strong",null,v.toLocaleString())," "),o.default.createElement("li",null,"UTA ",o.default.createElement("strong",null,k.toLocaleString())," "),o.default.createElement("li",null,"UTW ",o.default.createElement("strong",null,g.toLocaleString())," "),o.default.createElement("li",null,"UTN ",o.default.createElement("strong",null,h.toLocaleString())," "),o.default.createElement("li",null,"UTQ ",o.default.createElement("strong",null,y.toLocaleString())," "),o.default.createElement("li",null,"OBS ",o.default.createElement("strong",null,w.toLocaleString())," ")))),o.default.createElement(p.default,{nodeId:"3",label:o.default.createElement(c.default,{variant:"h6"},"Details")},o.default.createElement(P.default,{icons:q,title:ze.title,columns:ze.columns,data:ze.data,options:ze.options})))))),e.abrupt("return");case 153:r(x),e.next=158;break;case 156:console.log("timeout on iter=",x),a("timeout");case 158:case"end":return e.stop()}}),e,null,[[43,71,74,77],[50,61,64,67],[81,109,112,115],[88,99,102,105],[118,138,141,144]])}))),t);case 1:case"end":return e.stop()}}),e)})));function r(t){return e.apply(this,arguments)}return r}()(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){var t=e.delay,r=e.iterations,a=e.classes,u=(e.style,L((0,o.useState)(o.default.createElement(s.default,null)),2)),l=u[0],c=u[1],i=t,f=r;return void 0===i&&(i=1e3),void 0===f&&(f=1e3),(0,o.useEffect)((function(){(function(){var e=D(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(i,f,c);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),o.default.createElement("div",{className:a.root},l)}z.propTypes={classes:u.default.object,delay:u.default.number,iterations:u.default.number,style:u.default.object};var $=(0,l.withStyles)((function(e){return{root:{}}}))(z);t.default=$},547:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(548))&&n.__esModule?n:{default:n}},548:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(r(0)),u=f(r(4)),l=r(24),c=f(r(28)),s=p(r(549)),i=r(70);function f(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function m(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){m(o,n,a,u,l,"next",e)}function l(e){m(o,n,a,u,l,"throw",e)}u(void 0)}))}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e){var t=e.interval,r=e.iterations,a=e.bookId,u=(e.classes,e.style,v((0,o.useState)(o.default.createElement(c.default,null)),2)),l=u[0],f=u[1],d=t,p=r;void 0===d&&(d=1e3),void 0===p&&(p=1e3);var m=function(){var e=b(n.mark((function e(){var t,r,u,l,c,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=["uta-","utw-","utq-","utn-","ult-","ust-","obs-"],r=["uta-","utw-","utq-","utn-","obs-"],u=0,l=0;case 4:if(!(l<t.length)){e.next=25;break}if("obs-"!==t[l]){e.next=8;break}if("obs"===a){e.next=8;break}return e.abrupt("continue",22);case 8:if("obs"!==a){e.next=13;break}if(t[l]!==r[0]&&t[l]!==r[1]&&t[l]!==r[2]&&t[l]!==r[3]&&t[l]!==r[4]){e.next=12;break}e.next=13;break;case 12:return e.abrupt("continue",22);case 13:return c=t[l]+a,e.next=16,i.bpstore.getItem(c);case 16:if(null!==(s=e.sent)){e.next=20;break}return console.log("Missing:",c),e.abrupt("return",!1);case 20:console.log("Found:",c),u+=s.total?s.total:s.grandTotalWordCount;case 22:l++,e.next=4;break;case 25:return f(o.default.createElement("span",null," Book Package Word Count: ",u.toLocaleString()," ")),e.abrupt("return",!0);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){f(o.default.createElement("span",null," TIMEOUT! "))};return(0,o.useEffect)((function(){(function(){var e=b(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.timeoutWatcher(d,p,m,h);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),o.default.createElement(o.default.Fragment,null,l)}y.propTypes={classes:u.default.object,interval:u.default.number,iterations:u.default.number,style:u.default.object};var g=(0,l.withStyles)((function(e){return{root:{}}}))(y);t.default=g},549:function(e,t,r){"use strict";var n=r(17);function a(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function l(e){a(u,n,o,l,c,"next",e)}function c(e){a(u,n,o,l,c,"throw",e)}l(void 0)}))}}function u(e,t,r,n){return l.apply(this,arguments)}function l(){return(l=o(n.mark((function e(t,r,a,u){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=o(n.mark((function e(l){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!--l){e.next=9;break}return e.next=3,a();case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:r(l),e.next=10;break;case 9:u();case 10:case"end":return e.stop()}}),e)}))),t);case 1:case"end":return e.stop()}}),e)})));function r(t){return e.apply(this,arguments)}return r}()(r);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutWatcher=u,t.default=void 0;var c=u;t.default=c},550:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(551))&&n.__esModule?n:{default:n}},551:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=T(r(0)),u=R(r(4)),l=r(24),c=R(r(26)),s=R(r(19)),i=R(r(28)),f=R(r(79)),d=R(r(66)),p=R(r(36)),m=R(r(80)),b=r(552),v=T(r(61)),h=R(r(110)),y=R(r(119)),g=R(r(111)),k=R(r(90)),w=R(r(106)),x=R(r(112)),E=R(r(113)),O=R(r(115)),S=R(r(116)),j=R(r(117)),I=R(r(120)),C=R(r(114)),P=R(r(118)),_=R(r(121)),M=R(r(105));function R(e){return e&&e.__esModule?e:{default:e}}function A(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return A=function(){return e},e}function T(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=A();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function B(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var U={Add:(0,o.forwardRef)((function(e,t){return o.default.createElement(h.default,W({},e,{ref:t}))})),Check:(0,o.forwardRef)((function(e,t){return o.default.createElement(g.default,W({},e,{ref:t}))})),Clear:(0,o.forwardRef)((function(e,t){return o.default.createElement(w.default,W({},e,{ref:t}))})),Delete:(0,o.forwardRef)((function(e,t){return o.default.createElement(x.default,W({},e,{ref:t}))})),DetailPanel:(0,o.forwardRef)((function(e,t){return o.default.createElement(p.default,W({},e,{ref:t}))})),Edit:(0,o.forwardRef)((function(e,t){return o.default.createElement(E.default,W({},e,{ref:t}))})),Export:(0,o.forwardRef)((function(e,t){return o.default.createElement(C.default,W({},e,{ref:t}))})),Filter:(0,o.forwardRef)((function(e,t){return o.default.createElement(O.default,W({},e,{ref:t}))})),FirstPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(S.default,W({},e,{ref:t}))})),LastPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(j.default,W({},e,{ref:t}))})),NextPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(p.default,W({},e,{ref:t}))})),PreviousPage:(0,o.forwardRef)((function(e,t){return o.default.createElement(k.default,W({},e,{ref:t}))})),ResetSearch:(0,o.forwardRef)((function(e,t){return o.default.createElement(w.default,W({},e,{ref:t}))})),Search:(0,o.forwardRef)((function(e,t){return o.default.createElement(P.default,W({},e,{ref:t}))})),SortArrow:(0,o.forwardRef)((function(e,t){return o.default.createElement(y.default,W({},e,{ref:t}))})),ThirdStateCheck:(0,o.forwardRef)((function(e,t){return o.default.createElement(I.default,W({},e,{ref:t}))})),ViewColumn:(0,o.forwardRef)((function(e,t){return o.default.createElement(_.default,W({},e,{ref:t}))}))};function D(e){var t=e.bookId,r=e.clearFlag,a=e.classes,u=L((0,o.useState)(o.default.createElement(i.default,null)),2),l=u[0],h=u[1];return(0,o.useEffect)((function(){"obs"===t?function(){var e,u=(e=n.mark((function e(){var u,l,s,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.fetchBookPackageObs)({bookId:t,clearFlag:r});case 3:u=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),h(o.default.createElement("div",null,e.t0.message)),e.abrupt("return");case 10:l=v.wf_to_mt(u.wordFrequency),s=u.total,i="OBS Word Count: "+s.toLocaleString(),h(o.default.createElement(c.default,{className:a.paper},o.default.createElement(f.default,{className:a.root,defaultCollapseIcon:o.default.createElement(d.default,null),defaultExpandIcon:o.default.createElement(p.default,null)},o.default.createElement(m.default,{nodeId:"1",label:i},o.default.createElement(M.default,{icons:U,title:l.title,columns:l.columns,data:l.data,options:l.options})))));case 14:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){B(o,n,a,u,l,"next",e)}function l(e){B(o,n,a,u,l,"throw",e)}u(void 0)}))});return function(){return u.apply(this,arguments)}}()():h(o.default.createElement(c.default,{className:a.paper},o.default.createElement(s.default,{variant:"h5",gutterBottom:!0},'Invalid Book "',t.toUpperCase(),'" expecting "OBS"')))}),[]),o.default.createElement("div",{className:a.root},l)}D.propTypes={classes:u.default.object,bookId:u.default.string.isRequired,clearFlag:u.default.bool};var F=(0,l.withStyles)((function(e){return{root:{}}}))(D);t.default=F},552:function(e,t,r){"use strict";var n=r(17);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBookPackageObs=function(e){return d.apply(this,arguments)};var o=s(r(100)),u=s(r(61)),l=r(70);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function i(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,a)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){i(o,n,a,u,l,"next",e)}function l(e){i(o,n,a,u,l,"throw",e)}u(void 0)}))}}function d(){return(d=f(n.mark((function e(t){var r,a,c,s,i,f,d,p,m,b,v,h,y,g,k,w;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.bookId,a=t.clearFlag,c="obs-"+r,void 0===a&&(a=!0),!a){e.next=8;break}return e.next=6,l.bpstore.removeItem(c);case 6:e.next=13;break;case 8:return e.next=10,l.bpstore.getItem(c);case 10:if(null===(s=e.sent)){e.next=13;break}return e.abrupt("return",s);case 13:return i=[],f="",d="https://git.door43.org/unfoldingWord/en_obs/raw/branch/master/content/back/intro.md",e.prev=16,e.next=19,o.getURL({uri:d});case 19:p=e.sent,e.next=28;break;case 22:throw e.prev=22,e.t0=e.catch(16),m="OBS Error on:"+d+" is:"+e.t0,i.push(m),console.log(m),new Error(m);case 28:return f+=p,d="https://git.door43.org/unfoldingWord/en_obs/raw/branch/master/content/front/intro.md",e.prev=30,e.next=33,o.getURL({uri:d});case 33:p=e.sent,e.next=42;break;case 36:throw e.prev=36,e.t1=e.catch(30),b="OBS Error on:"+d+" is:"+e.t1,i.push(b),console.log(b),new Error(b);case 42:return f+=p,d="https://git.door43.org/unfoldingWord/en_obs/raw/branch/master/content/front/title.md",e.prev=44,e.next=47,o.getURL({uri:d});case 47:p=e.sent,e.next=56;break;case 50:throw e.prev=50,e.t2=e.catch(44),v="OBS Error on:"+d+" is:"+e.t2,i.push(v),console.log(v),new Error(v);case 56:f+=p,h=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],y=0;case 59:if(!(y<h.length)){e.next=77;break}return d="https://git.door43.org/unfoldingWord/en_obs/raw/branch/master/content/"+h[y]+".md",e.prev=61,e.next=64,o.getURL({uri:d});case 64:p=e.sent,e.next=73;break;case 67:throw e.prev=67,e.t3=e.catch(61),g="OBS Error on:"+d+" is:"+e.t3,i.push(g),console.log(g),new Error(g);case 73:f+=p;case 74:y++,e.next=59;break;case 77:return k=u.wordCount(f,"markdown"),(w={}).total=k.total,w.grandTotalWordCount=k.total,w.grandDistinctWordCount=k.distinct,w.wordFrequency=k.wordFrequency,e.next=85,l.bpstore.setItem(c,w);case 85:if(!(i.length>0)){e.next=88;break}return e.next=88,l.bpstore.setItem(c+"-errors",i);case 88:return e.abrupt("return",w);case 89:case"end":return e.stop()}}),e,null,[[16,22],[30,36],[44,50],[61,67]])})))).apply(this,arguments)}},553:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(101);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}));var a=r(70);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}))},554:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(18),u=r.n(o),l=(r(415),r(17)),c=r.n(l),s=r(85),i=r(68),f=r(97),d=r(34),p=r(2),m=r(338),b=r(337),v=r(5),h=r(21),y=r(139),g=r(592),k=r(590),w=r(591),x=r(347),E=r(87),O=r(348),S=r(567),j=r(563),I=r(275),C=r(350),P=r(349),_=r(276),M=r(391),R=r(580),A=r(357),T=r(274),B=r(399),L=r.n(B),N=r(78),W=r(587),U=r(90),D=r.n(U),F=r(36),q=r.n(F),J=r(593),H=r(158),z=r(16),$=r(53),G=function(){for(var e=[],t=0;t<$.length;t++)"new"===$[t].testament&&e.push($[t].title);return e},K=function(){for(var e=[],t=0;t<$.length;t++)"old"===$[t].testament&&e.push($[t].title);return e},Z=function(){var e={};return function(){for(var e=[],t=0;t<$.length;t++)e.push($[t].title);return e.push("Open Bible Stories"),e}().forEach((function(t,r){e[t]=[!1,!1]})),e},Q=function(e){if("Open Bible Stories"===e)return"obs";for(var t=0;t<$.length;t++)if($[t].title===e)return $[t].id;return""},V=function(e){if("obs"===e)return"Open Bible Stories";for(var t=0;t<$.length;t++)if($[t].id===e)return $[t].title;return""},X=r(60),Y=r(360),ee=r(66),te=r.n(ee),re=r(361),ne=r(589);function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];void 0!==n&&null!==n||(n=""),n.startsWith('"')&&n.endsWith('"')&&(n=n.substring(1,n.length-1)),n.includes('"')&&(n=n.replace(/"/g,'""')),(n.includes('"')||n.includes("\n")||n.includes("\r")||n.includes(","))&&(n='"'+n+'"'),t[r]=n}e.push(t)}function oe(e){for(var t="",r=0;r<e.length;r++){t=t+e[r].join(",")+"\r\n"}return t}var ue=["uta-","utw-","ult-","ust-","utq-","utn-","obs-"];function le(e){return"https://git.door43.org/unfoldingWord/en_ta/src/branch/master/translate/"+e}function ce(e){return e.replace(/^rc.*dict(\/.*$)/,"https://git.door43.org/unfoldingWord/en_tw/src/branch/master$1.md")}function se(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(i.a)(c.a.mark((function e(t,r){var n,o,u,l,s,i,f,d,p,m,b,v,h,y,g,k,w,x,S,j,I,C,P,_,M,R,A,T,B,L,N,W,U,D,F,J,H,$,G,K,Z,V,ee,se,ie,fe,de,pe,me,be,ve,he,ye,ge,ke,we,xe,Ee,Oe,Se,je,Ie,Ce,Pe,_e,Me,Re,Ae,Te,Be,Le,Ne,We,Ue,De,Fe,qe,Je,He,ze,$e,Ge,Ke,Ze,Qe,Ve,Xe,Ye,et,tt,rt,nt,at,ot;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(a.a.createElement(O.a,null)),n=Object.keys(t),o=n.filter((function(e){return t[e][0]})),console.log("bookpkg:",o),u=o.filter((function(e){return t[e][1]})),console.log("booksDone:",u),l=o.filter((function(e){return!u.includes(e)})),console.log("booksOpt:",l),s=[],i=new Map,f=new Map,d=new Map,p=[],m=Object(X.a)(o),e.prev=14,m.s();case 16:if((b=m.n()).done){e.next=52;break}v=b.value,h=Q(v),p.push(h),y=Object(X.a)(ue),e.prev=21,y.s();case 23:if((g=y.n()).done){e.next=42;break}if(k=g.value,"obs"!==h){e.next=28;break}if("uta-"!==k&&"ult-"!==k&&"ust-"!==k){e.next=28;break}return e.abrupt("continue",40);case 28:if("obs-"!==k){e.next=31;break}if("obs"===h){e.next=31;break}return e.abrupt("continue",40);case 31:return w=k+h,e.next=34,z.bpstore.getItem(w);case 34:if(x=e.sent,void 0===(S=x.total)&&(S=x.grandTotalWordCount,d.has(h)?d.set(h,d.get(h)+S):d.set(h,S)),f.has(h)?f.set(h,f.get(h)+S):f.set(h,S),"uta-"===k||"utw-"===k)for(j=Object.keys(x.detail_article_map),I=0,C=j;I<C.length;I++)P=C[I],i.has(P)||(_=x.detail_article_map[P].total,i.set(P,_));case 40:e.next=23;break;case 42:e.next=47;break;case 44:e.prev=44,e.t0=e.catch(21),y.e(e.t0);case 47:return e.prev=47,y.f(),e.finish(47);case 50:e.next=16;break;case 52:e.next=57;break;case 54:e.prev=54,e.t1=e.catch(14),m.e(e.t1);case 57:return e.prev=57,m.f(),e.finish(57);case 60:console.log("Pre-optimization computations done"),ae(s,["Completed Packages"]),ae(s,["Book","BookId","Resource","Word Count","Title"]),M=0,R=0,A=0,T=new Map,B=0;case 68:if(!(B<u.length)){e.next=89;break}return L=Q(u[B]),N="utw-"+L,e.next=73,z.bpstore.getItem(N);case 73:for(W=e.sent,U=W.detail_article_map,D=Object.keys(U),F=0;F<D.length;F++)J=U[D[F]].total,T.has(D[F])||(T.set(D[F],J),ae(s,[u[B],L,"utw",J.toLocaleString(),D[F]]),A+=J);if("obs"!==L){e.next=79;break}return e.abrupt("continue",86);case 79:return N="uta-"+L,e.next=82,z.bpstore.getItem(N);case 82:for(W=e.sent,U=W.detail_article_map,D=Object.keys(U),H=0;H<D.length;H++)$=U[D[H]].total,T.has(D[H])||(T.set(D[H],$),ae(s,[u[B],L,"uta",$.toLocaleString(),D[H]]),R+=$);case 86:B++,e.next=68;break;case 89:G=Object(X.a)(T.values());try{for(G.s();!(K=G.n()).done;)Z=K.value,M+=Z}catch(c){G.e(c)}finally{G.f()}console.log("done article total is:",M),V=0;case 93:if(!(V<u.length)){e.next=127;break}return ee=Q(u[V]),se="utq-"+ee,e.next=98,z.bpstore.getItem(se);case 98:return ie=e.sent,fe=ie.total,ae(s,[u[V],ee,"utq",fe.toLocaleString()]),M+=fe,se="utn-"+ee,e.next=105,z.bpstore.getItem(se);case 105:if(ie=e.sent,fe=ie.total,ae(s,[u[V],ee,"utn",fe.toLocaleString()]),M+=fe,"obs"===ee){e.next=124;break}return se="ult-"+ee,e.next=113,z.bpstore.getItem(se);case 113:return ie=e.sent,fe=ie.total,ae(s,[u[V],ee,"ult",fe.toLocaleString()]),M+=fe,se="ust-"+ee,e.next=120,z.bpstore.getItem(se);case 120:ie=e.sent,fe=ie.total,ae(s,[u[V],ee,"ust",fe.toLocaleString()]),M+=fe;case 124:V++,e.next=93;break;case 127:console.log("Done grand total is:",M),0===M?ae(s,["None specified"]):(ae(s,[""]),ae(s,["UTA Grand Total:",R.toLocaleString()]),ae(s,["UTW Grand Total:",A.toLocaleString()]),ae(s,["Grand Total of Articles",(R+A).toLocaleString()]),ae(s,["Grand Total:",M.toLocaleString()])),de=0,pe=[],me=[],be=new Map,ve=new Map,he={},ye={},ge=0;case 137:if(!(ge<l.length)){e.next=313;break}de++,ae(s,[""]),ae(s,["Round "+de]),ae(s,["Book","BookId","Resource","Word Count","Title"]),console.log("Begin round:",de),ke=[],we=[],xe=0;case 146:if(!(xe<l.length)){e.next=224;break}if(!pe.includes(l[xe])){e.next=149;break}return e.abrupt("continue",221);case 149:if(ke.push(l[xe]),Ee=[],Oe="",Se={},je={},Ie=new Map,"obs"===(Ce=Q(l[xe]))){e.next=172;break}return Pe="uta-"+Ce,e.next=160,z.bpstore.getItem(Pe);case 160:_e=e.sent,Me=_e.detail_article_map,Ee=Object.keys(Me),Re=0;case 164:if(!(Re<Ee.length)){e.next=172;break}if(!T.has(Ee[Re])){e.next=167;break}return e.abrupt("continue",169);case 167:Ae=Me[Ee[Re]].total,Ie.set(Ee[Re],Ae);case 169:Re++,e.next=164;break;case 172:return Oe="utw-"+Ce,e.next=175,z.bpstore.getItem(Oe);case 175:Se=e.sent,je=Se.detail_article_map,Ee=Object.keys(je),Te=0;case 179:if(!(Te<Ee.length)){e.next=187;break}if(!T.has(Ee[Te])){e.next=182;break}return e.abrupt("continue",184);case 182:Be=je[Ee[Te]].total,Ie.set(Ee[Te],Be);case 184:Te++,e.next=179;break;case 187:Le=0,Ne=Object(X.a)(Ie.values());try{for(Ne.s();!(We=Ne.n()).done;)Ue=We.value,Le+=Ue}catch(c){Ne.e(c)}finally{Ne.f()}return console.log("book article total is:",l[xe],Le),Oe="utq-"+Ce,e.next=194,z.bpstore.getItem(Oe);case 194:return Se=e.sent,Le+=Se.total,Oe="utn-"+Ce,e.next=199,z.bpstore.getItem(Oe);case 199:if(Se=e.sent,Le+=Se.total,"obs"!==Ce){e.next=209;break}return Oe="obs-"+Ce,e.next=205,z.bpstore.getItem(Oe);case 205:Se=e.sent,Le+=Se.total,e.next=219;break;case 209:return Oe="ult-"+Ce,e.next=212,z.bpstore.getItem(Oe);case 212:return Se=e.sent,Le+=Se.total,Oe="ust-"+Ce,e.next=217,z.bpstore.getItem(Oe);case 217:Se=e.sent,Le+=Se.total;case 219:we.push(Le),console.log("Book grand total is:",l[xe],Le);case 221:xe++,e.next=146;break;case 224:for(De=ke[0],Fe=we[0],qe=1;qe<ke.length;qe++)we[qe]<Fe&&(De=ke[qe],Fe=we[qe]);return pe.push(De),me.push(Fe),console.log("Round ",de,"winner is ",De," with count:",Fe),Je=Q(De),He="utq-"+Je,e.next=234,z.bpstore.getItem(He);case 234:return ze=e.sent,ae(s,[De,Je,"utq",ze.total.toLocaleString(),""]),Je=Q(De),He="utn-"+Je,e.next=240,z.bpstore.getItem(He);case 240:if(ze=e.sent,ae(s,[De,Je,"utn",ze.total.toLocaleString(),""]),"obs"!==(Je=Q(De))){e.next=251;break}return He="obs-"+Je,e.next=247,z.bpstore.getItem(He);case 247:ze=e.sent,ae(s,[De,Je,"obs",ze.total.toLocaleString(),""]),e.next=261;break;case 251:return He="ult-"+Je,e.next=254,z.bpstore.getItem(He);case 254:return ze=e.sent,ae(s,[De,Je,"ult",ze.total.toLocaleString(),""]),He="ust-"+Je,e.next=259,z.bpstore.getItem(He);case 259:ze=e.sent,ae(s,[De,Je,"ust",ze.total.toLocaleString(),""]);case 261:if($e=0,Ge=0,"obs"===Je){e.next=285;break}return Ke="uta-"+Je,e.next=267,z.bpstore.getItem(Ke);case 267:Ze=e.sent,Qe=Ze.detail_article_map,he=Ze.summary_ref_map,Ve=Object.keys(Qe),Xe=[],Ye=0;case 273:if(!(Ye<Ve.length)){e.next=284;break}if(!T.has(Ve[Ye])){e.next=276;break}return e.abrupt("continue",281);case 276:Xe.push(Ve[Ye]),et=Qe[Ve[Ye]].total,T.set(Ve[Ye],et),ae(s,[De,Je,"uta",et.toLocaleString(),Ve[Ye]]),$e+=et;case 281:Ye++,e.next=273;break;case 284:be.set(De,Xe);case 285:return He="utw-"+Je,e.next=288,z.bpstore.getItem(He);case 288:ze=e.sent,tt=ze.detail_article_map,ye=ze.summary_ref_map,rt=Object.keys(tt),nt=[],at=0;case 294:if(!(at<rt.length)){e.next=305;break}if(!T.has(rt[at])){e.next=297;break}return e.abrupt("continue",302);case 297:nt.push(rt[at]),ot=tt[rt[at]].total,T.set(rt[at],ot),ae(s,[De,Je,"utw",ot.toLocaleString(),rt[at]]),Ge+=ot;case 302:at++,e.next=294;break;case 305:ve.set(De,nt),ae(s,[""]),ae(s,["Round "+de+" UTA:",$e.toLocaleString()]),ae(s,["Round "+de+" UTW:",Ge.toLocaleString()]),ae(s,["Round "+de+" Total:",Fe.toLocaleString()]);case 310:ge++,e.next=137;break;case 313:return e.next=315,z.bpstore.setItem("optimized-csv-data",oe(s));case 315:r(a.a.createElement("div",null,a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement(E.a,null,"If these book packages are completed:")),a.a.createElement("div",null,a.a.createElement("ul",null,u.map((function(e){var t;return a.a.createElement("li",null,a.a.createElement(E.a,{key:e},e," (Book Package Word Count: ",null===(t=f.get(Q(e)))||void 0===t?void 0:t.toLocaleString(),")"))})))),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement(E.a,null,"Then proceed in this order:"),a.a.createElement("div",null,a.a.createElement("ol",null,pe.map((function(e,t){var r,n;return a.a.createElement("li",null,a.a.createElement(E.a,{key:e},e," - Adjusted Book Package Word Count: ",me[t].toLocaleString()),a.a.createElement(Y.a,{defaultCollapseIcon:a.a.createElement(te.a,null),defaultExpandIcon:a.a.createElement(q.a,null)},a.a.createElement(re.a,{nodeId:"1",label:"Unique UTA modules"},a.a.createElement("ul",null,null===(r=be.get(e))||void 0===r?void 0:r.map((function(e){return a.a.createElement("li",null,a.a.createElement(E.a,null,a.a.createElement(ne.a,{href:le(e),target:"_blank",rel:"noopener"},e),"\xa0\xa0(Word Count: ",i.get(e),") \xa0\xa0(References: ",he[e],")"))}))))),a.a.createElement(Y.a,{defaultCollapseIcon:a.a.createElement(te.a,null),defaultExpandIcon:a.a.createElement(q.a,null)},a.a.createElement(re.a,{nodeId:"1",label:"Unique UTW modules"},a.a.createElement("ul",null,null===(n=ve.get(e))||void 0===n?void 0:n.map((function(e){return a.a.createElement("li",null,a.a.createElement(E.a,null,a.a.createElement(ne.a,{href:ce(e),target:"_blank",rel:"noopener"},e),"\xa0\xa0(Word Count: ",i.get(e),") \xa0\xa0(References: ",ye[e],")"))}))))))}))))),a.a.createElement("br",null),a.a.createElement("br",null)));case 316:case"end":return e.stop()}}),e,null,[[14,54,57,60],[21,44,47,50]])})))).apply(this,arguments)}var fe=r(400),de=["uta-","utw-","ult-","ust-","utq-","utn-","obs-"];function pe(e){return me.apply(this,arguments)}function me(){return(me=Object(i.a)(c.a.mark((function e(t){var r,n,a,o,u,l,s,i,d,p,m,b,v,h,y,g,k,w,x,E,O,S,j,I,C,P,_,M,R,A,T,B,L,N,W,U,D,F,q,J,H,$,G,K,Z,Y,ee,te,re,ne,ue,le,ce,se,ie,pe,me,be,ve,he,ye,ge,ke,we,xe;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object.keys(t),n=r.filter((function(e){return t[e][0]})),a=[],o=new Map,u=new Map,l=[],s=Object(X.a)(n),e.prev=7,s.s();case 9:if((i=s.n()).done){e.next=40;break}d=i.value,p=Q(d),l.push(p),m=Object(X.a)(de),e.prev=14,m.s();case 16:if((b=m.n()).done){e.next=30;break}return v=b.value,h=v+p,e.next=21,z.bpstore.getItem(h);case 21:if(null!==(y=e.sent)){e.next=24;break}return e.abrupt("continue",28);case 24:void 0===(g=y.total)&&(g=y.grandTotalWordCount,u.has(p)?u.set(p,u.get(p)+g):u.set(p,g)),o.has(p)?o.set(p,o.get(p)+g):o.set(p,g);case 28:e.next=16;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(14),m.e(e.t0);case 35:return e.prev=35,m.f(),e.finish(35);case 38:e.next=9;break;case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(7),s.e(e.t1);case 45:return e.prev=45,s.f(),e.finish(45);case 48:ae(a,k=["Book Package Summary"]),ae(a,k=["Book","Word Count"]),0,w=Object(X.a)(o.entries());try{for(w.s();!(x=w.n()).done;)E=Object(f.a)(x.value,2),O=E[0],S=E[1],S,j=""+S.toLocaleString(),k=[V(O),j],ae(a,k)}catch(c){w.e(c)}finally{w.f()}ae(a,[""]),ae(I=[],k=["Book Package Details"]),ae(I,k=["Resource Type","Book","Word Count"]),C=0,P=0,_=0,M=0,R=0,A=Object(X.a)(n),e.prev=67,A.s();case 69:if((T=A.n()).done){e.next=111;break}return B=T.value,L=Q(B),N="utq-"+L,e.next=75,z.bpstore.getItem(N);case 75:return W=e.sent,k=["UTQ",B,W.total.toLocaleString()],ae(I,k),C+=W.total,N="utn-"+L,e.next=82,z.bpstore.getItem(N);case 82:if(W=e.sent,k=["UTN",B,W.total.toLocaleString()],ae(I,k),P+=W.total,"obs"!==L){e.next=95;break}return N="obs-obs",e.next=90,z.bpstore.getItem(N);case 90:return W=e.sent,k=["OBS",B,W.total.toLocaleString()],ae(I,k),_+=W.total,e.abrupt("continue",109);case 95:return N="ult-"+L,e.next=98,z.bpstore.getItem(N);case 98:return W=e.sent,k=["ULT",B,W.total.toLocaleString()],ae(I,k),M+=W.total,N="ust-"+L,e.next=105,z.bpstore.getItem(N);case 105:W=e.sent,k=["UST",B,W.total.toLocaleString()],ae(I,k),R+=W.total;case 109:e.next=69;break;case 111:e.next=116;break;case 113:e.prev=113,e.t2=e.catch(67),A.e(e.t2);case 116:return e.prev=116,A.f(),e.finish(116);case 119:ae(I,[""]),ae(I,k=["Resource Type","Book","Article","Word Count"]),U=0,D=0,F=[],q=[],J=Object(X.a)(n),e.prev=127,J.s();case 129:if((H=J.n()).done){e.next=150;break}return $=H.value,G=Q($),K="utw-"+G,e.next=135,z.bpstore.getItem(K);case 135:for(Z=e.sent,Y=Z.detail_article_map,ee=Object.keys(Y),te=0;te<ee.length;te++)re=Y[ee[te]].total,k=["UTW",$,ee[te],""+re.toLocaleString()],ae(I,k),q.includes(ee[te])||(D+=re,q.push(ee[te]));if("obs"!==G){e.next=141;break}return e.abrupt("continue",148);case 141:return K="uta-"+G,e.next=144,z.bpstore.getItem(K);case 144:for(Z=e.sent,Y=Z.detail_article_map,ee=Object.keys(Y),ne=0;ne<ee.length;ne++)ue=Y[ee[ne]].total,k=["UTA",$,ee[ne],""+ue.toLocaleString()],ae(I,k),F.includes(ee[ne])||(U+=ue,F.push(ee[ne]));case 148:e.next=129;break;case 150:e.next=155;break;case 152:e.prev=152,e.t3=e.catch(127),J.e(e.t3);case 155:return e.prev=155,J.f(),e.finish(155);case 158:ae(I,[""]),ae(I,k=["Book Package Errors"]),le="-errors",ce=Object(X.a)(n),e.prev=163,ce.s();case 165:if((se=ce.n()).done){e.next=193;break}ie=se.value,pe=Q(ie),me=Object(X.a)(de),e.prev=169,me.s();case 171:if((be=me.n()).done){e.next=183;break}return ve=be.value,he=ve+pe+le,e.next=176,z.bpstore.getItem(he);case 176:if(null!==(ye=e.sent)){e.next=179;break}return e.abrupt("continue",181);case 179:for(ge=Object(fe.a)(new Set(ye)),ke=0;ke<ge.length;ke++)k=[ge[ke]],ae(I,k);case 181:e.next=171;break;case 183:e.next=188;break;case 185:e.prev=185,e.t4=e.catch(169),me.e(e.t4);case 188:return e.prev=188,me.f(),e.finish(188);case 191:e.next=165;break;case 193:e.next=198;break;case 195:e.prev=195,e.t5=e.catch(163),ce.e(e.t5);case 198:return e.prev=198,ce.f(),e.finish(198);case 201:for(ae(a,["Resource Subtotals"]),ae(a,["ULT",M.toLocaleString()]),ae(a,["UST",R.toLocaleString()]),ae(a,["UTA",U.toLocaleString()]),ae(a,["UTW",D.toLocaleString()]),ae(a,["UTN",P.toLocaleString()]),ae(a,["UTQ",C.toLocaleString()]),ae(a,["OBS",_.toLocaleString()]),ae(a,[""]),we=0;we<I.length;we++)ae(a,I[we]);return xe=oe(a),e.abrupt("return",xe);case 213:case"end":return e.stop()}}),e,null,[[7,42,45,48],[14,32,35,38],[67,113,116,119],[127,152,155,158],[163,195,198,201],[169,185,188,191]])})))).apply(this,arguments)}function be(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(i.a)(c.a.mark((function e(t){var r,n,a,o,u,l,s,i,f,d,p,m,b,v,h,y,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object.keys(t),n=r.filter((function(e){return t[e][0]})),console.log("bookpkg:",n),ae(a=[],["book","ult","ust","utn","utq","utw","uta"]),o="",u="",l="",s="",i="",f="",d=Object(X.a)(n),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=58;break}return m=p.value,b=Q(m),v="ult-"+b,e.next=21,z.bpstore.getItem(v);case 21:return h=e.sent,y=h.total,o=y.toLocaleString(),v="ust-"+b,e.next=27,z.bpstore.getItem(v);case 27:return h=e.sent,y=h.total,u=y.toLocaleString(),v="utn-"+b,e.next=33,z.bpstore.getItem(v);case 33:return h=e.sent,y=h.total,l=y.toLocaleString(),v="utq-"+b,e.next=39,z.bpstore.getItem(v);case 39:return h=e.sent,y=h.total,s=y.toLocaleString(),v="utw-"+b,e.next=45,z.bpstore.getItem(v);case 45:return h=e.sent,y=h.grandTotalWordCount,i=y.toLocaleString(),v="uta-"+b,e.next=51,z.bpstore.getItem(v);case 51:h=e.sent,y=h.grandTotalWordCount,f=y.toLocaleString(),ae(a,[b,o,u,l,s,i,f]);case 56:e.next=15;break;case 58:e.next=63;break;case 60:e.prev=60,e.t0=e.catch(13),d.e(e.t0);case 63:return e.prev=63,d.f(),e.finish(63);case 66:return g=oe(a),e.abrupt("return",g);case 68:case"end":return e.stop()}}),e,null,[[13,60,63,66]])})))).apply(this,arguments)}var he=r(582),ye=r(581),ge=r(588);function ke(e,t){var r=document.createElement("a");r.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(t)),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}var we=Object(m.a)((function(e){return Object(b.a)({root:{width:"100%",flexGrow:1,display:"flex"},menuButton:{marginRight:e.spacing(2)},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},title:{flexGrow:1},formControl:{margin:e.spacing(3)},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(d.a)(Object(d.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},alignItemsAndJustifyContent:{display:"flex",alignItems:"center",justifyContent:"center"},offset:Object(d.a)({},e.mixins.toolbar)})})),xe=Object(v.a)({root:{color:H.a[400],"&$checked":{color:H.a[600]}},checked:{}})((function(e){return a.a.createElement(M.a,Object.assign({color:"default"},e))}));function Ee(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;n++)e[t[n]][0]&&r.push(Q(t[n]));return r.join()}var Oe=!1;function Se(){var e=a.a.useState(Object(d.a)({},Z())),t=Object(f.a)(e,2),r=t[0],n=t[1],o=a.a.useState(0),u=Object(f.a)(o,2),l=u[0],m=u[1],b=a.a.useState(new Set),v=Object(f.a)(b,2),B=v[0],U=v[1],F=["Select Books","Book Package Details","Configure Book Package Flow","Optimized Flow"],H=function(e){return B.has(e)},$=function(){var e=B;H(l)&&(e=new Set(e.values())).delete(l),m((function(e){return e+1})),U(e)},X=function(){var e=window.location.search;return new URLSearchParams(e)}();if(0===l&&!1===Oe){Oe=!0;var Y=X.get("books");if(null!==Y){for(var ee=Y.split(","),te=[],re=0;re<ee.length;re++){var ne=V(ee[re]);if(""===ne){alert("Invalid Book Id:"+ee[re]);break}te.push(ne)}for(var ae=0;ae<te.length;ae++){var oe=te[ae];console.log("name:",oe),r[oe][0]=!0,r[oe][1]=!1;var ue=[];ue[0]=!0,ue[1]=!1}$(),z.bpstore.clear()}}var le=we(),ce=Object(h.a)(),ie=a.a.useState(null),fe=Object(f.a)(ie,2),de=fe[0],me=fe[1],ve=Boolean(de),Se=ve?"simple-popover":void 0,je=a.a.useState(!1),Ie=Object(f.a)(je,2),Ce=Ie[0],Pe=Ie[1];function _e(){return(_e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(r);case 2:t=e.sent,n=(new Date).toISOString(),ke("BookPackageDetails-"+n+".csv",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Me=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)};function Re(){return(Re=Object(i.a)(c.a.mark((function e(t){var n,a,o,u,l,s,i,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for("https://unfoldingword.github.io/book-package-app/",n=Object.keys(r),a=[],o=0;o<n.length;o++)u=n[o],!0===r[u][0]&&(l=Q(u),a.push(l));s=window.location.origin,i=window.location.pathname,"?books=",f=s+i+"?books="+a.join(","),s.startsWith("file")&&(f="https://unfoldingword.github.io/book-package-app/?books="+a.join(",")),Me(f),me(t.currentTarget);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(){return(Ae=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z.bpstore.clear();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){return(Te=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(r);case 2:t=e.sent,n=(new Date).toISOString(),ke("BookPackageSummary-"+n+".csv",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return(Be=Object(i.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.bpstore.getItem("optimized-csv-data");case 2:t=e.sent,r=(new Date).toISOString(),ke("OptimizationFlow-"+r+".csv",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Le=a.a.useState({clearFlag:!1}),Ne=Object(f.a)(Le,2),We=Ne[0],Ue=Ne[1],De=function(e){return function(t){var a=[];a[0]=t.target.checked,a[1]=!1,n(Object(d.a)(Object(d.a)({},r),{},Object(s.a)({},e,a)))}},Fe=function(e){return function(t){var a=[];a[0]=!0,a[1]=t.target.checked,n(Object(d.a)(Object(d.a)({},r),{},Object(s.a)({},e,a)))}},qe=a.a.useState(a.a.createElement(O.a,null)),Je=Object(f.a)(qe,2),He=Je[0],ze=Je[1];return a.a.useEffect((function(){3===l&&function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se(r,ze);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),ze(a.a.createElement("div",null,e.t0.message)),e.abrupt("return");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()()}),[r,l]),a.a.createElement("div",{className:le.root},a.a.createElement(he.a,null),a.a.createElement(R.a,{position:"fixed",className:Object(p.a)(le.appBar,Object(s.a)({},le.appBarShift,Ce))},a.a.createElement(A.a,null,a.a.createElement(T.a,{color:"inherit","aria-label":"open drawer",onClick:function(){Pe(!0)},edge:"start",className:Object(p.a)(le.menuButton,Ce&&le.hide)},a.a.createElement(L.a,null)),a.a.createElement(E.a,{variant:"h6",className:le.title},"Book Package and Flow Optimization"))),a.a.createElement(N.a,{className:le.drawer,variant:"persistent",anchor:"left",open:Ce,classes:{paper:le.drawerPaper}},a.a.createElement("div",{className:le.drawerHeader},a.a.createElement(T.a,{onClick:function(){Pe(!1)}},"ltr"===ce.direction?a.a.createElement(D.a,null):a.a.createElement(q.a,null))),a.a.createElement(W.a,null),a.a.createElement(C.a,{row:!0},a.a.createElement(P.a,{control:a.a.createElement(J.a,{checked:We.clearFlag,onChange:function(e){return function(t){Ue(Object(d.a)(Object(d.a)({},We),{},Object(s.a)({},e,t.target.checked)))}}("clearFlag"),value:"clearFlag",color:"primary"}),label:"Refresh Book Package Data"})),a.a.createElement(W.a,null),a.a.createElement(x.a,{disabled:0!==l,onClick:function(){return Ae.apply(this,arguments)},color:"primary",variant:"contained",className:le.button},"Delete Local Cache"),a.a.createElement(W.a,null),a.a.createElement(x.a,{disabled:1!==l,onClick:function(){return _e.apply(this,arguments)},color:"primary",variant:"contained",className:le.button},"Export Snapshot"),a.a.createElement(W.a,null),a.a.createElement(x.a,{disabled:0===l,"aria-describedby":Se,onClick:function(e){return Re.apply(this,arguments)},color:"primary",variant:"contained",className:le.button},"Copy Link"),a.a.createElement(S.a,{id:Se,open:ve,anchorEl:de,onClose:function(){me(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(E.a,null,"Link copied to clipboard!"))),a.a.createElement(y.a,null,a.a.createElement(E.a,null," ",a.a.createElement("br",null)," ",a.a.createElement("br",null)," "),a.a.createElement(g.a,{activeStep:l},F.map((function(e,t){var r={},n={};return H(t)&&(r.completed=!1),a.a.createElement(k.a,Object.assign({key:e},r),a.a.createElement(w.a,n,e))}))),a.a.createElement(ye.a,null,a.a.createElement("div",{className:le.alignItemsAndJustifyContent},a.a.createElement(E.a,{className:le.instructions},function(e){switch(e){case 0:return"Select books, then click Next to generate book package details";case 1:return"Click Next to configure book book package flow optimization";case 2:return"Select any books completed, then click Next to optimize book package flow";case 3:return"Optimized Book Package Flow";default:return"Unknown step"}}(l))),a.a.createElement("div",{className:le.alignItemsAndJustifyContent},a.a.createElement(x.a,{disabled:0===l,onClick:function(){m((function(e){return e-1}))},color:"primary",variant:"contained",className:le.button},"Back"),!1,a.a.createElement(x.a,{disabled:3===l,variant:"contained",color:"primary",onClick:$,className:le.button},"Next"),1===l&&a.a.createElement(x.a,{onClick:function(){return Te.apply(this,arguments)},color:"primary",variant:"contained",className:le.button},"Export"),3===l&&a.a.createElement(a.a.Fragment,null,a.a.createElement(x.a,{onClick:function(){m(0);for(var e=Object.keys(r),t=0;t<e.length;t++)r[e[t]][0]=!1,r[e[t]][1]=!1},color:"primary",variant:"contained",className:le.button},"Start Over"),a.a.createElement(x.a,{onClick:function(){return Be.apply(this,arguments)},color:"primary",variant:"contained",className:le.button},"Export Optimization"))),a.a.createElement("div",{className:le.alignItemsAndJustifyContent},0===l&&a.a.createElement(ge.a,{container:!0,spacing:3},a.a.createElement(ge.a,{item:!0,xs:5},a.a.createElement(y.a,null,a.a.createElement(E.a,null," ",a.a.createElement("br",null)," "),a.a.createElement("div",null,a.a.createElement(x.a,{onClick:function(){for(var e=K(),t=0;t<e.length;t++){r[e[t]][0]=!0,r[e[t]][1]=!1;var a=e[t],o=[];o[0]=!0,o[1]=!1,n(Object(d.a)(Object(d.a)({},r),{},Object(s.a)({},a,o)))}},color:"primary",variant:"contained",className:le.button},"Select All"),a.a.createElement(x.a,{onClick:function(){for(var e=K(),t=0;t<e.length;t++){r[e[t]][0]=!1,r[e[t]][1]=!1;var a=e[t],o=[];o[0]=!1,o[1]=!1,n(Object(d.a)(Object(d.a)({},r),{},Object(s.a)({},a,o)))}},color:"primary",variant:"contained",className:le.button},"Select None")),a.a.createElement(I.a,{required:!0,component:"fieldset",className:le.formControl},a.a.createElement(j.a,{component:"legend"},"Old Testament"),a.a.createElement(C.a,null,K().map((function(e){return a.a.createElement(P.a,{control:a.a.createElement(M.a,{checked:r[e][0],onChange:De(e),value:e}),label:e,key:e})}))),a.a.createElement(_.a,null)))),a.a.createElement(ge.a,{item:!0,xs:2},a.a.createElement(E.a,null," ",a.a.createElement("br",null)," ",a.a.createElement("br",null)," ",a.a.createElement("br",null)," "),a.a.createElement(y.a,null,a.a.createElement(I.a,{required:!0,component:"fieldset",className:le.formControl},a.a.createElement(C.a,null,a.a.createElement(P.a,{control:a.a.createElement(M.a,{checked:r["Open Bible Stories"][0],onChange:De("Open Bible Stories"),value:"Open Bible Stories"}),label:"Open Bible Stories",key:"Open Bible Stories"})),a.a.createElement(_.a,null)))),a.a.createElement(ge.a,{item:!0,xs:5},a.a.createElement(y.a,null,a.a.createElement(E.a,null," ",a.a.createElement("br",null)," "),a.a.createElement("div",null,a.a.createElement(x.a,{onClick:function(){for(var e=G(),t=0;t<e.length;t++){r[e[t]][0]=!0,r[e[t]][1]=!1;var a=e[t],o=[];o[0]=!0,o[1]=!1,n(Object(d.a)(Object(d.a)({},r),{},Object(s.a)({},a,o)))}},color:"primary",variant:"contained",className:le.button},"Select All"),a.a.createElement(x.a,{onClick:function(){for(var e=G(),t=0;t<e.length;t++){r[e[t]][0]=!1,r[e[t]][1]=!1;var a=e[t],o=[];o[0]=!1,o[1]=!1,n(Object(d.a)(Object(d.a)({},r),{},Object(s.a)({},a,o)))}},color:"primary",variant:"contained",className:le.button},"Select None")),a.a.createElement(I.a,{required:!0,component:"fieldset",className:le.formControl},a.a.createElement(j.a,{component:"legend"},"New Testament"),a.a.createElement(C.a,null,G().map((function(e){return a.a.createElement(P.a,{control:a.a.createElement(M.a,{checked:r[e][0],onChange:De(e),value:e}),label:e,key:e})}))),a.a.createElement(_.a,null))))),1===l&&a.a.createElement("div",null,a.a.createElement(y.a,null,a.a.createElement(z.BookPackageRollup,{bookId:Ee(r),chapter:"",clearFlag:We.clearFlag}))),2===l&&a.a.createElement(y.a,null,a.a.createElement(I.a,{required:!0,component:"fieldset",className:le.formControl},a.a.createElement(j.a,{component:"legend"},"Select one or more"),a.a.createElement(C.a,null,a.a.createElement("div",null,Object.keys(r).filter((function(e){return r[e][0]})).map((function(e){return a.a.createElement(P.a,{control:a.a.createElement(xe,{checked:r[e][1],onChange:Fe(e),value:e,key:e}),label:e})})))),a.a.createElement(_.a,null))),3===l&&a.a.createElement(y.a,null,He)))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},70:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bpstore=void 0;var n,a=(n=r(367))&&n.__esModule?n:{default:n};a.default.setDriver([a.default.INDEXEDDB,a.default.WEBSQL]),a.default.ready().then((function(){console.log(a.default.driver())})).catch((function(e){console.log(e)}));var o=a.default.createInstance({driver:[a.default.INDEXEDDB],name:"bp-store"});t.bpstore=o}},[[410,1,2]]]);
//# sourceMappingURL=main.626fe8b9.chunk.js.map